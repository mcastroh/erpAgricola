USE [master]
GO
/****** Object:  Database [MT]    Script Date: 18/02/2023 19:51:28 ******/
CREATE DATABASE [MT]
 CONTAINMENT = NONE
 ON  PRIMARY 
( NAME = N'MT_Data', FILENAME = N'D:\MSSQL14.MSSQLSERVER\MSSQL\DATA\MT.MDF' , SIZE = 953984KB , MAXSIZE = UNLIMITED, FILEGROWTH = 10%)
 LOG ON 
( NAME = N'MT_Log', FILENAME = N'D:\MSSQL14.MSSQLSERVER\MSSQL\DATA\MT.LDF' , SIZE = 10176KB , MAXSIZE = UNLIMITED, FILEGROWTH = 10%)
GO
ALTER DATABASE [MT] SET COMPATIBILITY_LEVEL = 100
GO
IF (1 = FULLTEXTSERVICEPROPERTY('IsFullTextInstalled'))
begin
EXEC [MT].[dbo].[sp_fulltext_database] @action = 'disable'
end
GO
ALTER DATABASE [MT] SET ANSI_NULL_DEFAULT OFF 
GO
ALTER DATABASE [MT] SET ANSI_NULLS OFF 
GO
ALTER DATABASE [MT] SET ANSI_PADDING OFF 
GO
ALTER DATABASE [MT] SET ANSI_WARNINGS OFF 
GO
ALTER DATABASE [MT] SET ARITHABORT OFF 
GO
ALTER DATABASE [MT] SET AUTO_CLOSE ON 
GO
ALTER DATABASE [MT] SET AUTO_SHRINK ON 
GO
ALTER DATABASE [MT] SET AUTO_UPDATE_STATISTICS ON 
GO
ALTER DATABASE [MT] SET CURSOR_CLOSE_ON_COMMIT OFF 
GO
ALTER DATABASE [MT] SET CURSOR_DEFAULT  GLOBAL 
GO
ALTER DATABASE [MT] SET CONCAT_NULL_YIELDS_NULL OFF 
GO
ALTER DATABASE [MT] SET NUMERIC_ROUNDABORT OFF 
GO
ALTER DATABASE [MT] SET QUOTED_IDENTIFIER OFF 
GO
ALTER DATABASE [MT] SET RECURSIVE_TRIGGERS OFF 
GO
ALTER DATABASE [MT] SET  DISABLE_BROKER 
GO
ALTER DATABASE [MT] SET AUTO_UPDATE_STATISTICS_ASYNC OFF 
GO
ALTER DATABASE [MT] SET DATE_CORRELATION_OPTIMIZATION OFF 
GO
ALTER DATABASE [MT] SET TRUSTWORTHY OFF 
GO
ALTER DATABASE [MT] SET ALLOW_SNAPSHOT_ISOLATION OFF 
GO
ALTER DATABASE [MT] SET PARAMETERIZATION SIMPLE 
GO
ALTER DATABASE [MT] SET READ_COMMITTED_SNAPSHOT OFF 
GO
ALTER DATABASE [MT] SET HONOR_BROKER_PRIORITY OFF 
GO
ALTER DATABASE [MT] SET RECOVERY SIMPLE 
GO
ALTER DATABASE [MT] SET  MULTI_USER 
GO
ALTER DATABASE [MT] SET PAGE_VERIFY TORN_PAGE_DETECTION  
GO
ALTER DATABASE [MT] SET DB_CHAINING OFF 
GO
ALTER DATABASE [MT] SET FILESTREAM( NON_TRANSACTED_ACCESS = OFF ) 
GO
ALTER DATABASE [MT] SET TARGET_RECOVERY_TIME = 0 SECONDS 
GO
ALTER DATABASE [MT] SET DELAYED_DURABILITY = DISABLED 
GO
ALTER DATABASE [MT] SET QUERY_STORE = OFF
GO
USE [MT]
GO
/****** Object:  User [wbuenano]    Script Date: 18/02/2023 19:51:29 ******/
CREATE USER [wbuenano] WITHOUT LOGIN WITH DEFAULT_SCHEMA=[wbuenano]
GO
/****** Object:  User [vvasquez]    Script Date: 18/02/2023 19:51:29 ******/
CREATE USER [vvasquez] WITHOUT LOGIN WITH DEFAULT_SCHEMA=[vvasquez]
GO
/****** Object:  User [user]    Script Date: 18/02/2023 19:51:29 ******/
CREATE USER [user] WITHOUT LOGIN WITH DEFAULT_SCHEMA=[user]
GO
/****** Object:  User [sqlbackup]    Script Date: 18/02/2023 19:51:29 ******/
CREATE USER [sqlbackup] WITH DEFAULT_SCHEMA=[sqlbackup]
GO
/****** Object:  User [migarcia]    Script Date: 18/02/2023 19:51:29 ******/
CREATE USER [migarcia] WITHOUT LOGIN WITH DEFAULT_SCHEMA=[migarcia]
GO
/****** Object:  User [consulta]    Script Date: 18/02/2023 19:51:29 ******/
CREATE USER [consulta] WITHOUT LOGIN WITH DEFAULT_SCHEMA=[consulta]
GO
ALTER ROLE [db_owner] ADD MEMBER [wbuenano]
GO
ALTER ROLE [db_datareader] ADD MEMBER [vvasquez]
GO
ALTER ROLE [db_owner] ADD MEMBER [user]
GO
ALTER ROLE [db_owner] ADD MEMBER [sqlbackup]
GO
ALTER ROLE [db_datareader] ADD MEMBER [migarcia]
GO
ALTER ROLE [db_owner] ADD MEMBER [consulta]
GO
/****** Object:  Schema [consulta]    Script Date: 18/02/2023 19:51:29 ******/
CREATE SCHEMA [consulta]
GO
/****** Object:  Schema [migarcia]    Script Date: 18/02/2023 19:51:29 ******/
CREATE SCHEMA [migarcia]
GO
/****** Object:  Schema [sqlbackup]    Script Date: 18/02/2023 19:51:29 ******/
CREATE SCHEMA [sqlbackup]
GO
/****** Object:  Schema [user]    Script Date: 18/02/2023 19:51:29 ******/
CREATE SCHEMA [user]
GO
/****** Object:  Schema [vvasquez]    Script Date: 18/02/2023 19:51:29 ******/
CREATE SCHEMA [vvasquez]
GO
/****** Object:  Schema [wbuenano]    Script Date: 18/02/2023 19:51:29 ******/
CREATE SCHEMA [wbuenano]
GO
/****** Object:  UserDefinedFunction [dbo].[FN_DEVOLVERCONTRASENA]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO


create FUNCTION [dbo].[FN_DEVOLVERCONTRASENA]
(
	@CLAVE	VARCHAR(30)
)
RETURNS VARCHAR(100)
AS
BEGIN
		DECLARE 
			 @MISEED INT
			,@MIMAX INT

		SET	@MISEED=10
		SET	@MIMAX =8

		DECLARE @INTFLAG INT
			,	@TEMP	VARCHAR(100)
			,	@TEMPASCCI INT
			,	@TEMPSTRING	VARCHAR(100)

		SET @TEMP	=''
		SET @TEMPASCCI =0
		SET @TEMPSTRING	=''

		SET @INTFLAG = 1
		WHILE (@INTFLAG <=@MIMAX)
		BEGIN
			SET @TEMP=SUBSTRING(@CLAVE,@INTFLAG,1)
			SET @TEMPASCCI=ASCII(@TEMP)
			SET @TEMPASCCI=@TEMPASCCI - @MISEED
			IF (@TEMPASCCI=39)
			BEGIN
				SET @TEMPSTRING=ISNULL(@TEMPSTRING,'') + ISNULL(CONVERT(VARCHAR,CHAR(@TEMPASCCI)),'')
			END
			ELSE
			BEGIN
				SET @TEMPSTRING=ISNULL(@TEMPSTRING,'') + ISNULL(CONVERT(VARCHAR,CHAR(@TEMPASCCI)),'')
			END
			SET @INTFLAG = @INTFLAG + 1
		END
	RETURN @TEMPSTRING
END

GO
/****** Object:  Table [dbo].[MTI03]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MTI03](
	[IDCAB_I03] [int] IDENTITY(1,1) NOT FOR REPLICATION NOT NULL,
	[VOUCH_I03] [varchar](12) NULL,
	[FEREG_I03] [datetime] NULL,
	[PERIO_I03] [varchar](7) NULL,
	[NUREQ_I03] [varchar](16) NULL,
	[FECHA_I03] [datetime] NULL,
	[PEDID_I03] [varchar](50) NULL,
	[OBSER_I03] [varchar](300) NULL,
	[FLAUT_I03] [char](1) NULL,
	[LOCAL_I03] [varchar](2) NULL,
	[AREAS_I03] [varchar](20) NULL,
	[TIODC_I03] [varchar](3) NULL,
	[OLDNO_I03] [varchar](15) NULL,
	[FEAPR_I03] [datetime] NULL,
	[STATU_I03] [varchar](4) NULL,
	[FLAU1_I03] [bit] NULL,
	[AUTO1_I03] [varchar](4) NULL,
	[FLAU2_I03] [bit] NULL,
	[AUTO2_I03] [varchar](4) NULL,
	[OLDAR_I03] [varchar](50) NULL,
	[OLDPE_I03] [varchar](50) NULL,
	[FLAPR_I03] [bit] NULL,
	[USUAR_I03] [varchar](20) NULL,
	[CLREQ_I03] [varchar](2) NULL,
	[PROMT_I03] [bit] NULL,
	[PROLG_I03] [bit] NULL,
	[IDPMT_I03] [int] NULL,
	[IDPLG_I03] [int] NULL,
	[PRIOR_I03] [varchar](2) NULL,
	[FLOEC_I03] [bit] NULL,
	[NUOEC_I03] [varchar](7) NULL,
	[FLAU3_I03] [bit] NULL,
	[AUTO3_I03] [varchar](4) NULL,
	[FLAU4_I03] [bit] NULL,
	[AUTO4_I03] [varchar](4) NULL,
	[FLOTT_I03] [bit] NULL,
	[FLGTD_I03] [bit] NULL,
	[NUOTT_I03] [varchar](15) NULL,
 CONSTRAINT [PK_MTI03] PRIMARY KEY CLUSTERED 
(
	[IDCAB_I03] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  View [dbo].[VSELECT_TOTALES_OR_V02]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[VSELECT_TOTALES_OR_V02]
AS
SELECT     TOP 100 PERCENT dbo.MTI03.AREAS_I03 + ' - ' + MA.dbo.MAT18.DESCR_T18 AS AREA, RIGHT('0000' + CAST(DATEPART(year, dbo.MTI03.FECHA_I03) AS varchar(4)), 4) 
                      + '-' + RIGHT('00' + CAST(DATEPART(month, dbo.MTI03.FECHA_I03) AS varchar(2)), 2) AS PERIODO, dbo.MTI03.USUAR_I03 AS EMISOR, 
                      dbo.MTI03.STATU_I03 + ' - ' + MA.dbo.MAT19.DESCR_T19 AS ESTADO, COUNT(dbo.MTI03.STATU_I03) AS CANTIDAD
FROM         dbo.MTI03 INNER JOIN
                      MA.dbo.MAT18 ON dbo.MTI03.AREAS_I03 = MA.dbo.MAT18.CODIG_T18 INNER JOIN
                      MA.dbo.MAT19 ON dbo.MTI03.STATU_I03 = MA.dbo.MAT19.ABREV_T19
WHERE     (LEN(dbo.MTI03.AREAS_I03) = 2)
GROUP BY dbo.MTI03.AREAS_I03 + ' - ' + MA.dbo.MAT18.DESCR_T18, RIGHT('0000' + CAST(DATEPART(year, dbo.MTI03.FECHA_I03) AS varchar(4)), 4) + '-' + RIGHT('00' + CAST(DATEPART(month, 
                      dbo.MTI03.FECHA_I03) AS varchar(2)), 2), dbo.MTI03.USUAR_I03, dbo.MTI03.STATU_I03 + ' - ' + MA.dbo.MAT19.DESCR_T19
ORDER BY dbo.MTI03.AREAS_I03 + ' - ' + MA.dbo.MAT18.DESCR_T18, RIGHT('0000' + CAST(DATEPART(year, dbo.MTI03.FECHA_I03) AS varchar(4)), 4) + '-' + RIGHT('00' + CAST(DATEPART(month, 
                      dbo.MTI03.FECHA_I03) AS varchar(2)), 2), dbo.MTI03.USUAR_I03, dbo.MTI03.STATU_I03 + ' - ' + MA.dbo.MAT19.DESCR_T19
GO
/****** Object:  Table [dbo].[MTI0105]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MTI0105](
	[IDCAB_I01] [int] IDENTITY(1,1) NOT FOR REPLICATION NOT NULL,
	[EMPRE_I01] [char](2) NULL,
	[PERIO_I01] [char](7) NULL,
	[LOCAL_I01] [char](2) NULL,
	[SUBDI_I01] [char](4) NULL,
	[NUFIL_I01] [float] NULL,
	[TIVOU_I01] [char](15) NULL,
	[OPERA_I01] [char](40) NULL,
	[VOUCH_I01] [char](12) NULL,
	[CODAL_I01] [char](5) NULL,
	[FEREG_I01] [datetime] NULL,
	[MONED_I01] [char](12) NULL,
	[TICAM_I01] [float] NULL,
	[CTPPG_I01] [char](50) NULL,
	[CTACB_I01] [char](50) NULL,
	[MAEST_I01] [char](11) NULL,
	[SERGU_I01] [char](4) NULL,
	[NUGUI_I01] [char](8) NULL,
	[FEDOC_I01] [datetime] NULL,
	[FEFAC_I01] [datetime] NULL,
	[TIDOC_I01] [char](50) NULL,
	[SERDO_I01] [char](4) NULL,
	[NUDOC_I01] [varchar](16) NULL,
	[SOLES_I01] [float] NULL,
	[DOLAR_I01] [float] NULL,
	[RESPO_I01] [char](35) NULL,
	[OBSER_I01] [varchar](100) NULL,
	[PROVI_I01] [char](1) NULL,
	[IDPRO_I01] [int] NULL,
	[USUAR_I01] [char](10) NULL,
	[INGPA_I01] [char](1) NULL,
	[PRING_I01] [char](1) NULL,
	[CANTI_I01] [float] NULL,
	[IDOPA_I01] [int] NULL,
	[PFACT_I01] [int] NULL,
	[FVENC_I01] [datetime] NULL,
	[CANCE_I01] [char](1) NULL,
	[TIPOC_I01] [char](2) NULL,
	[NUODC_I01] [varchar](15) NULL,
	[FLDET_I01] [bit] NULL,
	[CDDET_I01] [varchar](50) NULL,
	[POIGV_I01] [float] NULL,
	[TIDCR_I01] [varchar](50) NULL,
	[NSERR_I01] [varchar](4) NULL,
	[NODCR_I01] [varchar](8) NULL,
	[AUTOS_I01] [varchar](2) NULL,
	[SEDED_I01] [varchar](2) NULL,
	[SEDEO_I01] [varchar](2) NULL,
	[IDODC_I01] [int] NULL,
	[IDODR_I01] [int] NULL,
	[IDOXF_I01] [int] NULL,
	[VOUCO_I01] [varchar](12) NULL,
	[TRATA_I01] [varchar](7) NULL,
	[FLOEC_I01] [bit] NULL,
	[NUOEC_I01] [varchar](7) NULL,
	[FLOTT_I01] [bit] NULL,
	[FLGTD_I01] [bit] NULL,
	[NUOTT_I01] [varchar](15) NULL,
 CONSTRAINT [PK_MTI0105] PRIMARY KEY CLUSTERED 
(
	[IDCAB_I01] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[MTI0205]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MTI0205](
	[IDDET_I02] [int] IDENTITY(1,1) NOT NULL,
	[COSTO_I02] [char](8) NULL,
	[CODMA_I02] [char](9) NULL,
	[CANTI_I02] [float] NULL,
	[PRECI_I02] [float] NULL,
	[SOLES_I02] [float] NULL,
	[DOLAR_I02] [float] NULL,
	[DSCTO_I02] [float] NULL,
	[CANRE_I02] [float] NULL,
	[CANPE_I02] [float] NULL,
	[LOTE__i02] [char](1) NULL,
	[REFER_I02] [char](35) NULL,
	[IDCAB_I02] [int] NULL,
	[IDODC_I02] [int] NULL,
	[IDODR_I02] [int] NULL,
	[ITMOR_I02] [varchar](4) NULL,
	[ITEM__I02] [varchar](4) NULL,
	[TRATA_I02] [varchar](7) NULL,
	[NUOTT_I02] [varchar](15) NULL,
 CONSTRAINT [PK_MTI0205] PRIMARY KEY CLUSTERED 
(
	[IDDET_I02] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  View [dbo].[VISTA_CONSUMOS_COMBUSTIBLES_Y_LUBRICANTES]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[VISTA_CONSUMOS_COMBUSTIBLES_Y_LUBRICANTES]
AS
SELECT     TOP 100 PERCENT MTI0205.COSTO_I02 AS CENTRO_COSTO, PRT03.DESCR_T03 AS DESC_CENTRO_COSTO, MST21.CLASE_M02 AS CLASE_PRODUCTO, 
                      MST22.DSITE_T02 AS DESC_CLASE_PRODUCTO, MTI0205.CODMA_I02 AS CODIGO_PRODUCTO, MST21.DESMA_M02 AS DESC_PRODUCTO, MTI0105.FEDOC_I01 AS FECHA, 
                      MTI0205.CANTI_I02 AS CANTIDAD, MST21.UNIDA_M02 AS UM, MTI0205.PRECI_I02 AS PRECIO, MTI0205.SOLES_I02 AS SOLES, MTI0205.REFER_I02 AS REFERENCIA, 
                      mat0105.DESCR_T01 AS OPERACION
FROM         dbo.MTI0105 AS MTI0105 INNER JOIN
                      dbo.MTI0205 AS MTI0205 ON MTI0105.IDCAB_I01 = MTI0205.IDCAB_I02 INNER JOIN
                      MA.dbo.mat0105 AS mat0105 ON LEFT(MTI0105.OPERA_I01, 3) = mat0105.CODI2_T01 INNER JOIN
                      PR.dbo.PRT03 AS PRT03 ON MTI0205.COSTO_I02 = PRT03.ABREV_T03 INNER JOIN
                      MS.dbo.MST21 AS MST21 ON MTI0205.CODMA_I02 = MST21.CODMA_M02 INNER JOIN
                      MS.dbo.MST22 AS MST22 ON MST21.CLASE_M02 = MST22.CDITE_T02
WHERE     (MTI0105.TIVOU_I01 = '2 - Salidas   ') AND (LEFT(MTI0105.OPERA_I01, 3) <> '212') AND (MST21.CLASE_M02 = '2611')
ORDER BY MTI0205.COSTO_I02, PRT03.DESCR_T03, MST21.CLASE_M02, MST22.DSITE_T02, MTI0205.CODMA_I02, MST21.DESMA_M02, MTI0105.FEDOC_I01
GO
/****** Object:  View [dbo].[Consumos_Almacenes_Virtuales]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[Consumos_Almacenes_Virtuales]
AS
SELECT     TOP 100 PERCENT MTI0105.PERIO_I01 AS PERIODO, MST22_2.DSITE_T02 AS CLASE_NIVEL_1, MST22_1.DSITE_T02 AS CLASE_NIVEL_2, 
                      MST22.DSITE_T02 AS CLASE_NIVEL_3, MTI0205.CODMA_I02 AS CODIGO_PRODUCTO, MST21.DESMA_M02 AS PRODUCTO, 
                      MAT0405.DESCR_T04 AS ALMACEN, MTI0105.FEDOC_I01 AS FECHA, PR.dbo.PRT01.DESCR_T01 AS CULTIVO, MTI0105.NUDOC_I01 AS NUMERO_OAL, 
                      PR.dbo.PRT03.DESCR_T03 AS CENTRO_COSTO, MTI0205.CANTI_I02 AS CANTIDAD, MTI0205.SOLES_I02 AS SOLES
FROM         dbo.MTI0105 MTI0105 INNER JOIN
                      MA.dbo.MAT0405 MAT0405 ON MTI0105.LOCAL_I01 = MAT0405.CODIG_T04 INNER JOIN
                      dbo.MTI0205 MTI0205 INNER JOIN
                      MS.dbo.MST21 MST21 INNER JOIN
                      MS.dbo.MST22 MST22 INNER JOIN
                      MS.dbo.MST22 MST22_1 INNER JOIN
                      MS.dbo.MST22 MST22_2 ON LEFT(MST22_1.CDITE_T02, 2) = MST22_2.CDITE_T02 ON LEFT(MST22.CDITE_T02, 3) = MST22_1.CDITE_T02 ON 
                      MST21.CLASE_M02 = MST22.CDITE_T02 ON MTI0205.CODMA_I02 = MST21.CODMA_M02 INNER JOIN
                      PR.dbo.PRT03 INNER JOIN
                      PR.dbo.PRT02 INNER JOIN
                      PR.dbo.PRT01 ON PR.dbo.PRT02.NIV01_T02 = PR.dbo.PRT01.ABREV_T01 ON PR.dbo.PRT03.NIV02_T03 = PR.dbo.PRT02.ABREV_T02 ON 
                      MTI0205.COSTO_I02 = PR.dbo.PRT03.ABREV_T03 ON MTI0105.IDCAB_I01 = MTI0205.IDCAB_I02
WHERE     (MTI0105.PERIO_I01 >= '2019-01') AND (MTI0105.TIVOU_I01 = '2 - Salidas    ') AND (MTI0105.LOCAL_I01 <> '02') AND (PR.dbo.PRT03.FLCAM_T03 = 'S')
ORDER BY MTI0105.PERIO_I01, MST22_2.DSITE_T02, MST22_1.DSITE_T02, MST22.DSITE_T02, MST21.DESMA_M02, MAT0405.DESCR_T04, 
                      MTI0105.FEDOC_I01, PR.dbo.PRT01.DESCR_T01, MTI0105.NUDOC_I01, PR.dbo.PRT03.DESCR_T03
GO
/****** Object:  View [dbo].[Consumos_de_Almacen_MI_2022]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[Consumos_de_Almacen_MI_2022]
AS
SELECT     TOP 100 PERCENT MTI0105.PERIO_I01 AS PERIODO, MST22_2.DSITE_T02 AS CLASE_NIVEL_1, MST22_1.DSITE_T02 AS CLASE_NIVEL_2, MST22.DSITE_T02 AS CLASE_NIVEL_3, 
                      MTI0205.CODMA_I02 AS CODIGO_PRODUCTO, MST21.DESMA_M02 AS PRODUCTO, MAT0405.DESCR_T04 AS ALMACEN, MTI0105.FEDOC_I01 AS FECHA, PR.dbo.PRT01.DESCR_T01 AS CULTIVO, 
                      MTI0105.VOUCH_I01 AS VALE_SALIDA, MTI0105.TRATA_I01 AS TRATAMIENTO, PR.dbo.PRT03.DESCR_T03 AS CENTRO_COSTO, MTI0205.CANTI_I02 AS CANTIDAD, MTI0205.SOLES_I02 AS SOLES, 
                      MTI0105.NUDOC_I01 AS DOCUMENTO, MST21.SBTN3_M02 AS CODIGO_ING_ACTIVO,
                          (SELECT     DESCR_T04
                            FROM          PP.dbo.PPT04
                            WHERE      (ABREV_T04 = MST21.SBTN3_M02)) AS ING_ACTIVO, MTI0105.OPERA_I01 AS OPERACION
FROM         dbo.MTI0105 AS MTI0105 INNER JOIN
                      MA.dbo.MAT0405 AS MAT0405 ON MTI0105.LOCAL_I01 = MAT0405.CODIG_T04 INNER JOIN
                      dbo.MTI0205 AS MTI0205 INNER JOIN
                      MS.dbo.MST21 AS MST21 INNER JOIN
                      MS.dbo.MST22 AS MST22 INNER JOIN
                      MS.dbo.MST22 AS MST22_1 INNER JOIN
                      MS.dbo.MST22 AS MST22_2 ON LEFT(MST22_1.CDITE_T02, 2) = MST22_2.CDITE_T02 ON LEFT(MST22.CDITE_T02, 3) = MST22_1.CDITE_T02 ON MST21.CLASE_M02 = MST22.CDITE_T02 ON 
                      MTI0205.CODMA_I02 = MST21.CODMA_M02 INNER JOIN
                      PR.dbo.PRT03 INNER JOIN
                      PR.dbo.PRT02 INNER JOIN
                      PR.dbo.PRT01 ON PR.dbo.PRT02.NIV01_T02 = PR.dbo.PRT01.ABREV_T01 ON PR.dbo.PRT03.NIV02_T03 = PR.dbo.PRT02.ABREV_T02 ON MTI0205.COSTO_I02 = PR.dbo.PRT03.ABREV_T03 ON 
                      MTI0105.IDCAB_I01 = MTI0205.IDCAB_I02
WHERE     (MTI0105.PERIO_I01 >= '2019-01') AND (MTI0105.TIVOU_I01 = '2 - Salidas ') AND (MTI0105.OPERA_I01 <> '212 - Salida por Transferencia          ') AND (PR.dbo.PRT03.FLCAM_T03 = 'S')
ORDER BY MTI0105.PERIO_I01, MST22_2.DSITE_T02, MST22_1.DSITE_T02, MST22.DSITE_T02, MST21.DESMA_M02, MAT0405.DESCR_T04, MTI0105.FEDOC_I01, PR.dbo.PRT01.DESCR_T01, 
                      MTI0105.NUDOC_I01, PR.dbo.PRT03.DESCR_T03
GO
/****** Object:  View [dbo].[Consumos_Almacen_Principal]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[Consumos_Almacen_Principal]
AS
SELECT     TOP 100 PERCENT MTI0105.PERIO_I01 AS PERIODO, MST22_2.DSITE_T02 AS CLASE_NIVEL_1, MST22_1.DSITE_T02 AS CLASE_NIVEL_2, 
                      MST22.DSITE_T02 AS CLASE_NIVEL_3, MTI0205.CODMA_I02 AS CODIGO_PRODUCTO, MST21.DESMA_M02 AS PRODUCTO, 
                      MAT0405.DESCR_T04 AS ALMACEN, MTI0105.FEDOC_I01 AS FECHA, PR.dbo.PRT01.DESCR_T01 AS CULTIVO, MTI0105.NUDOC_I01 AS NUMERO_OAL, 
                      PR.dbo.PRT03.DESCR_T03 AS CENTRO_COSTO, MTI0205.CANTI_I02 AS CANTIDAD, MTI0205.SOLES_I02 AS SOLES
FROM         dbo.MTI0105 MTI0105 INNER JOIN
                      MA.dbo.MAT0405 MAT0405 ON MTI0105.LOCAL_I01 = MAT0405.CODIG_T04 INNER JOIN
                      dbo.MTI0205 MTI0205 INNER JOIN
                      MS.dbo.MST21 MST21 INNER JOIN
                      MS.dbo.MST22 MST22 INNER JOIN
                      MS.dbo.MST22 MST22_1 INNER JOIN
                      MS.dbo.MST22 MST22_2 ON LEFT(MST22_1.CDITE_T02, 2) = MST22_2.CDITE_T02 ON LEFT(MST22.CDITE_T02, 3) = MST22_1.CDITE_T02 ON 
                      MST21.CLASE_M02 = MST22.CDITE_T02 ON MTI0205.CODMA_I02 = MST21.CODMA_M02 INNER JOIN
                      PR.dbo.PRT03 INNER JOIN
                      PR.dbo.PRT02 INNER JOIN
                      PR.dbo.PRT01 ON PR.dbo.PRT02.NIV01_T02 = PR.dbo.PRT01.ABREV_T01 ON PR.dbo.PRT03.NIV02_T03 = PR.dbo.PRT02.ABREV_T02 ON 
                      MTI0205.COSTO_I02 = PR.dbo.PRT03.ABREV_T03 ON MTI0105.IDCAB_I01 = MTI0205.IDCAB_I02
WHERE     (MTI0105.PERIO_I01 >= '2019-01') AND (MTI0105.TIVOU_I01 = '2 - Salidas    ') AND (MTI0105.LOCAL_I01 = '02') AND (LEFT(MTI0105.OPERA_I01, 3) 
                      = '212')
ORDER BY MTI0105.PERIO_I01, MST22_2.DSITE_T02, MST22_1.DSITE_T02, MST22.DSITE_T02, MST21.DESMA_M02, MAT0405.DESCR_T04, 
                      MTI0105.FEDOC_I01, PR.dbo.PRT01.DESCR_T01, MTI0105.NUDOC_I01, PR.dbo.PRT03.DESCR_T03
GO
/****** Object:  Table [dbo].[MTW07]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MTW07](
	[CLASE_TMP] [varchar](4) NULL,
	[CODMA_TMP] [varchar](9) NULL,
	[MAEST_TMP] [varchar](11) NULL,
	[FEFAC_TMP] [datetime] NULL,
	[MONED_TMP] [varchar](15) NULL,
	[PRECI_TMP] [float] NULL,
	[USUAR_TMP] [varchar](20) NULL,
	[COMPU_TMP] [varchar](20) NULL,
	[PRECD_TMP] [float] NULL
) ON [PRIMARY]
GO
/****** Object:  View [dbo].[View_PRODUCTOS_ULTIMO_PRECIO_DE_COMPRA]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[View_PRODUCTOS_ULTIMO_PRECIO_DE_COMPRA]
AS
SELECT     TOP 100 PERCENT MTW07.CLASE_TMP AS CLASE, MST22.DSITE_T02 AS DESC_CLASE, MTW07.CODMA_TMP AS PRODUCTO, MST21.DESMA_M02 AS DESC_PRODUCTO, 
                      MTW07.MAEST_TMP AS PROVEEDOR, MST20.NOMBR_M02 AS DESC_PROVEEDOR, MTW07.FEFAC_TMP AS FECHA, MTW07.MONED_TMP AS MONEDA, CBT0205.OFIVT_T02 AS TC, 
                      MTW07.PRECI_TMP AS PRECIO_SOL, MTW07.PRECD_TMP AS PRECIO_DOL
FROM         dbo.MTW07 AS MTW07 INNER JOIN
                      MS.dbo.MST21 AS MST21 ON MTW07.CODMA_TMP = MST21.CODMA_M02 INNER JOIN
                      MS.dbo.MST20 AS MST20 ON MTW07.MAEST_TMP = MST20.MAEST_M02 INNER JOIN
                      MS.dbo.MST22 AS MST22 ON MTW07.CLASE_TMP = MST22.CDITE_T02 INNER JOIN
                      CB.dbo.cbt0205 AS CBT0205 ON MTW07.FEFAC_TMP = CBT0205.FECHA_T02
WHERE     (MTW07.USUAR_TMP = 'jac     ')
ORDER BY MTW07.CLASE_TMP, MST21.DESMA_M02, MTW07.FEFAC_TMP DESC, MTW07.MAEST_TMP
GO
/****** Object:  View [dbo].[VISTA_BASE_ULTIMA_FECHA_SALIDA_PRODUCTO]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[VISTA_BASE_ULTIMA_FECHA_SALIDA_PRODUCTO]
AS
SELECT     dbo.MTI0205.CODMA_I02, MAX(dbo.MTI0105.FEDOC_I01) AS FEDOC_I01
FROM         dbo.MTI0105 INNER JOIN
                      dbo.MTI0205 ON dbo.MTI0105.IDCAB_I01 = dbo.MTI0205.IDCAB_I02
WHERE     (dbo.MTI0105.TIVOU_I01 = '2 - Salidas    ') AND (dbo.MTI0105.LOCAL_I01 = '02') AND (dbo.MTI0105.FEDOC_I01 >= CONVERT(DATETIME, '01/01/2020', 103))
GROUP BY dbo.MTI0205.CODMA_I02
GO
/****** Object:  View [dbo].[VISTA_FINAL_ULTIMO_PRECIO_SALIDA_PRODUCTO]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[VISTA_FINAL_ULTIMO_PRECIO_SALIDA_PRODUCTO]
AS
SELECT     dbo.MTI0105.IDCAB_I01, dbo.MTI0205.CODMA_I02, dbo.MTI0105.MAEST_I01, dbo.MTI0105.FEDOC_I01, dbo.MTI0205.PRECI_I02
FROM         dbo.MTI0105 INNER JOIN
                      dbo.MTI0205 ON dbo.MTI0105.IDCAB_I01 = dbo.MTI0205.IDCAB_I02
WHERE     (dbo.MTI0105.TIVOU_I01 = '2 - Salidas    ') AND (dbo.MTI0105.LOCAL_I01 = '02')
GO
/****** Object:  View [dbo].[Transferencias_a_Almacen_Biol_MI_2023]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[Transferencias_a_Almacen_Biol_MI_2023]
AS
SELECT     TOP 100 PERCENT MTI0105.PERIO_I01 AS PERIODO, MST22_2.DSITE_T02 AS CLASE_NIVEL_1, MST22_1.DSITE_T02 AS CLASE_NIVEL_2, MST22.DSITE_T02 AS CLASE_NIVEL_3, 
                      MTI0205.CODMA_I02 AS CODIGO_PRODUCTO, MST21.DESMA_M02 AS PRODUCTO, MAT0405.DESCR_T04 AS ALMACEN, MTI0105.FEDOC_I01 AS FECHA, PR.dbo.PRT01.DESCR_T01 AS CULTIVO, 
                      MTI0105.VOUCH_I01 AS VALE_SALIDA, MTI0105.TRATA_I01 AS TRATAMIENTO, PR.dbo.PRT03.ABREV_T03 AS CODIGO_CENTRO_COSTO, PR.dbo.PRT03.DESCR_T03 AS CENTRO_COSTO, 
                      MTI0205.CANTI_I02 AS CANTIDAD, MTI0205.SOLES_I02 AS SOLES, MTI0105.NUDOC_I01 AS DOCUMENTO, MST21.SBTN3_M02 AS CODIGO_ING_ACTIVO,
                          (SELECT     DESCR_T04
                            FROM          PP.dbo.PPT04
                            WHERE      (ABREV_T04 = MST21.SBTN3_M02)) AS ING_ACTIVO, MTI0105.OPERA_I01 AS OPERACION
FROM         dbo.MTI0105 AS MTI0105 INNER JOIN
                      MA.dbo.MAT0405 AS MAT0405 ON MTI0105.LOCAL_I01 = MAT0405.CODIG_T04 INNER JOIN
                      dbo.MTI0205 AS MTI0205 INNER JOIN
                      MS.dbo.MST21 AS MST21 INNER JOIN
                      MS.dbo.MST22 AS MST22 INNER JOIN
                      MS.dbo.MST22 AS MST22_1 INNER JOIN
                      MS.dbo.MST22 AS MST22_2 ON LEFT(MST22_1.CDITE_T02, 2) = MST22_2.CDITE_T02 ON LEFT(MST22.CDITE_T02, 3) = MST22_1.CDITE_T02 ON MST21.CLASE_M02 = MST22.CDITE_T02 ON 
                      MTI0205.CODMA_I02 = MST21.CODMA_M02 INNER JOIN
                      PR.dbo.PRT03 INNER JOIN
                      PR.dbo.PRT02 INNER JOIN
                      PR.dbo.PRT01 ON PR.dbo.PRT02.NIV01_T02 = PR.dbo.PRT01.ABREV_T01 ON PR.dbo.PRT03.NIV02_T03 = PR.dbo.PRT02.ABREV_T02 ON MTI0205.COSTO_I02 = PR.dbo.PRT03.ABREV_T03 ON 
                      MTI0105.IDCAB_I01 = MTI0205.IDCAB_I02
WHERE     (MTI0105.PERIO_I01 >= '2019-01') AND (MTI0105.TIVOU_I01 = '2 - Salidas ') AND (PR.dbo.PRT03.FLCAM_T03 = 'N') AND (PR.dbo.PRT03.ABREV_T03 = '01090101')
ORDER BY MTI0105.PERIO_I01, MST22_2.DSITE_T02, MST22_1.DSITE_T02, MST22.DSITE_T02, MST21.DESMA_M02, MAT0405.DESCR_T04, MTI0105.FEDOC_I01, PR.dbo.PRT01.DESCR_T01, 
                      MTI0105.NUDOC_I01, PR.dbo.PRT03.DESCR_T03
GO
/****** Object:  View [dbo].[View_Consumos_de_Almacen_Obras_en_Curso]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[View_Consumos_de_Almacen_Obras_en_Curso]
AS
SELECT     TOP 100 PERCENT dbo.MTI0105.PERIO_I01 AS PERIODO, dbo.MTI0105.LOCAL_I01 AS CODIGO_ALMACEN, MA.dbo.MAT0405.DESCR_T04 AS DESCRIPCION_ALMACEN, 
                      PR.dbo.PRT01.ABREV_T01 AS CODIGO_CULTIVO, PR.dbo.PRT01.DESCR_T01 AS DESCRIPCION_CULTIVO, PR.dbo.PRT02.ABREV_T02 AS CODIGO_VARIEDAD, 
                      PR.dbo.PRT02.DESCR_T02 AS DESCRIPCION_VARIEDAD, PR.dbo.PRT03.ABREV_T03 AS CODIGO_LOTE, PR.dbo.PRT03.DESCR_T03 AS DESCRIPCION_LOTE, 
                      CB.dbo.CBM04.COBCB_M04 AS OBRA_EN_CURSO, CB.dbo.CBM04.FEINI_M04 AS DESDE, CB.dbo.CBM04.FEFIN_M04 AS HASTA, CB.dbo.CBM04.ACTIV_M04 AS ESTADO, 
                      dbo.MTI0105.FEDOC_I01 AS FECHA, dbo.MTI0205.CODMA_I02 AS CODIGO_PRODUCTO, MS.dbo.MST21.DESMA_M02 AS DESCRIPCION_PRODUCTO, dbo.MTI0205.CANTI_I02 AS CANTIDAD, 
                      dbo.MTI0205.PRECI_I02 AS PRECIO, dbo.MTI0205.SOLES_I02 AS SOLES, dbo.MTI0105.OPERA_I01 AS OPERACION, dbo.MTI0105.VOUCH_I01 AS VALE_SALIDA
FROM         dbo.MTI0105 INNER JOIN
                      dbo.MTI0205 INNER JOIN
                      MS.dbo.MST21 INNER JOIN
                      MS.dbo.MST22 ON MS.dbo.MST21.CLASE_M02 = MS.dbo.MST22.CDITE_T02 ON dbo.MTI0205.CODMA_I02 = MS.dbo.MST21.CODMA_M02 INNER JOIN
                      PR.dbo.PRT03 INNER JOIN
                      PR.dbo.PRT02 INNER JOIN
                      PR.dbo.PRT01 ON PR.dbo.PRT02.NIV01_T02 = PR.dbo.PRT01.ABREV_T01 ON PR.dbo.PRT03.NIV02_T03 = PR.dbo.PRT02.ABREV_T02 ON 
                      dbo.MTI0205.COSTO_I02 = PR.dbo.PRT03.ABREV_T03 INNER JOIN
                      CB.dbo.CBM04 ON PR.dbo.PRT03.NUOEC_T03 = CB.dbo.CBM04.COBCB_M04 ON dbo.MTI0105.IDCAB_I01 = dbo.MTI0205.IDCAB_I02 INNER JOIN
                      MA.dbo.MAT0405 ON dbo.MTI0105.LOCAL_I01 = MA.dbo.MAT0405.ABREV_T04
WHERE     (dbo.MTI0105.TIVOU_I01 = '2 - Salidas') AND (PR.dbo.PRT03.FLOEC_T03 = 1) AND (dbo.MTI0105.OPERA_I01 <> '212 - Salida por Transferencia          ')
ORDER BY dbo.MTI0105.EMPRE_I01, dbo.MTI0105.PERIO_I01, dbo.MTI0105.LOCAL_I01, PR.dbo.PRT01.ABREV_T01, PR.dbo.PRT02.ABREV_T02, PR.dbo.PRT03.ABREV_T03, CB.dbo.CBM04.COBCB_M04, 
                      CB.dbo.CBM04.FEINI_M04, CB.dbo.CBM04.FEFIN_M04, dbo.MTI0105.FEDOC_I01, dbo.MTI0205.CODMA_I02
GO
/****** Object:  View [dbo].[Ingresos_Almacen_Principal]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[Ingresos_Almacen_Principal]
AS
SELECT     TOP 100 PERCENT MTI0105.PERIO_I01 AS PERIODO, MST22_2.DSITE_T02 AS CLASE_NIVEL_1, MST22_1.DSITE_T02 AS CLASE_NIVEL_2, 
                      MST22.DSITE_T02 AS CLASE_NIVEL_3, MTI0205.CODMA_I02 AS CODIGO_PRODUCTO, MST21.DESMA_M02 AS PRODUCTO, 
                      MAT0405.DESCR_T04 AS ALMACEN, MTI0105.FEDOC_I01 AS FECHA, MTI0105.NUDOC_I01 AS NUMERO_DOC, MTI0205.CANTI_I02 AS CANTIDAD, 
                      MTI0205.SOLES_I02 AS SOLES
FROM         dbo.MTI0105 MTI0105 INNER JOIN
                      MA.dbo.MAT0405 MAT0405 ON MTI0105.LOCAL_I01 = MAT0405.CODIG_T04 INNER JOIN
                      dbo.MTI0205 MTI0205 INNER JOIN
                      MS.dbo.MST21 MST21 INNER JOIN
                      MS.dbo.MST22 MST22 INNER JOIN
                      MS.dbo.MST22 MST22_1 INNER JOIN
                      MS.dbo.MST22 MST22_2 ON LEFT(MST22_1.CDITE_T02, 2) = MST22_2.CDITE_T02 ON LEFT(MST22.CDITE_T02, 3) = MST22_1.CDITE_T02 ON 
                      MST21.CLASE_M02 = MST22.CDITE_T02 ON MTI0205.CODMA_I02 = MST21.CODMA_M02 ON MTI0105.IDCAB_I01 = MTI0205.IDCAB_I02
WHERE     (MTI0105.PERIO_I01 >= '2019-01') AND (MTI0105.TIVOU_I01 = '1 - Ingresos   ') AND (MTI0105.LOCAL_I01 = '02') AND (LEFT(MTI0105.OPERA_I01, 3) 
                      = '101')
ORDER BY MTI0105.PERIO_I01, MST22_2.DSITE_T02, MST22_1.DSITE_T02, MST22.DSITE_T02, MST21.DESMA_M02, MAT0405.DESCR_T04, 
                      MTI0105.FEDOC_I01, MTI0105.NUDOC_I01
GO
/****** Object:  View [dbo].[VISTA MOV FERTILIZANTES EJECUTADO (MT) V01]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[VISTA MOV FERTILIZANTES EJECUTADO (MT) V01]
AS
SELECT     TOP 100 PERCENT PR.dbo.PRT08.ANIO__T08, PR.dbo.PRT15.DESCR_T15 AS CAMPAÑA_LOTE, CB.dbo.CBM0305.DESCR_M03 AS FUNDO, 
                      PR.dbo.PRT01.DESCR_T01 AS CULTIVO, PR.dbo.PRT03.DESCR_T03 AS LOTE, dbo.MTI0105.TRATA_I01 AS TRATAMIENTO, 
                      dbo.MTI0205.CODMA_I02 AS PRODUCTO, MS.dbo.MST21.DESMA_M02 AS NOMBRE_COMERCIAL, SUM(dbo.MTI0205.CANTI_I02) AS CANTIDAD
FROM         dbo.MTI0105 INNER JOIN
                      dbo.MTI0205 INNER JOIN
                      MS.dbo.MST21 LEFT OUTER JOIN
                      MS.dbo.MST26 LEFT OUTER JOIN
                      TC.dbo.TCT40 ON MS.dbo.MST26.NOTEC_T26 = TC.dbo.TCT40.CODIG_T40 ON MS.dbo.MST21.IDCAB_M02 = MS.dbo.MST26.IDCAB_T26 ON 
                      dbo.MTI0205.CODMA_I02 = MS.dbo.MST21.CODMA_M02 INNER JOIN
                      PR.dbo.PRT03 INNER JOIN
                      PR.dbo.PRT15 INNER JOIN
                      PR.dbo.PRT08 ON PR.dbo.PRT15.CAMPA_T15 = PR.dbo.PRT08.ABREV_T08 ON PR.dbo.PRT03.ABREV_T03 = PR.dbo.PRT15.CAMPO_T15 INNER JOIN
                      PR.dbo.PRT02 INNER JOIN
                      PR.dbo.PRT01 INNER JOIN
                      CB.dbo.CBM0305 ON PR.dbo.PRT01.COSTO_T01 = CB.dbo.CBM0305.CODIG_M03 ON PR.dbo.PRT02.NIV01_T02 = PR.dbo.PRT01.ABREV_T01 ON 
                      PR.dbo.PRT03.NIV02_T03 = PR.dbo.PRT02.ABREV_T02 ON dbo.MTI0205.COSTO_I02 = PR.dbo.PRT03.ABREV_T03 ON 
                      dbo.MTI0105.IDCAB_I01 = dbo.MTI0205.IDCAB_I02
WHERE     (dbo.MTI0105.TIVOU_I01 = '2 - Salidas    ') AND (LEFT(dbo.MTI0205.CODMA_I02, 3) = '245') AND (PR.dbo.PRT03.FLCAM_T03 = 'S') AND 
                      (dbo.MTI0105.FEDOC_I01 BETWEEN PR.dbo.PRT15.DESDE_T15 AND PR.dbo.PRT15.HASTA_T15) AND (PR.dbo.PRT08.ANIO__T08 >= '2021')
GROUP BY PR.dbo.PRT08.ANIO__T08, PR.dbo.PRT15.DESCR_T15, CB.dbo.CBM0305.DESCR_M03, PR.dbo.PRT01.DESCR_T01, PR.dbo.PRT03.DESCR_T03, 
                      dbo.MTI0105.TRATA_I01, dbo.MTI0205.CODMA_I02, MS.dbo.MST21.DESMA_M02
ORDER BY PR.dbo.PRT08.ANIO__T08, PR.dbo.PRT15.DESCR_T15, CB.dbo.CBM0305.DESCR_M03, PR.dbo.PRT01.DESCR_T01, PR.dbo.PRT03.DESCR_T03, 
                      dbo.MTI0105.TRATA_I01, dbo.MTI0205.CODMA_I02, MS.dbo.MST21.DESMA_M02
GO
/****** Object:  Table [dbo].[MTT06]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MTT06](
	[EMPRE_T06] [char](2) NULL,
	[CODIG_T06] [char](2) NOT NULL,
	[DESCR_T06] [varchar](50) NULL,
	[ABREV_T06] [varchar](25) NULL,
	[AREAS_T06] [varchar](2) NULL,
	[USROL_T06] [varchar](2) NULL,
 CONSTRAINT [PK_MTT06] PRIMARY KEY CLUSTERED 
(
	[CODIG_T06] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[MTI04]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MTI04](
	[IDDET_I04] [int] IDENTITY(1,1) NOT FOR REPLICATION NOT NULL,
	[IDCAB_I04] [int] NOT NULL,
	[CODMA_I04] [char](9) NULL,
	[CANTI_I04] [float] NULL,
	[COSTO_I04] [char](8) NULL,
	[STOCK_I04] [float] NULL,
	[ITEM__I04] [varchar](4) NULL,
	[CAATD_I04] [float] NULL,
	[FLATD_I04] [bit] NULL,
	[FLCER_I04] [bit] NULL,
	[NUOTT_I04] [varchar](15) NULL,
 CONSTRAINT [PK_MTI04] PRIMARY KEY CLUSTERED 
(
	[IDDET_I04] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[MTI08]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MTI08](
	[IDDET_I08] [int] IDENTITY(1,1) NOT FOR REPLICATION NOT NULL,
	[IDCAB_I08] [int] NOT NULL,
	[DESMA_I08] [varchar](100) NULL,
	[CANTI_I08] [float] NULL,
	[UNIDA_I08] [varchar](10) NULL,
	[PRECI_I08] [float] NULL,
	[VALOR_I08] [float] NULL,
	[COSTO_I08] [char](8) NULL,
	[REFER_I08] [int] NULL,
	[CODMA_I08] [char](9) NULL,
	[CAATD_I08] [float] NULL,
	[FLATD_I08] [bit] NULL,
	[FLCER_I08] [bit] NULL,
	[ITEM__I08] [varchar](4) NULL,
	[IDODR_I08] [int] NULL,
	[ITMOR_I08] [varchar](4) NULL,
	[NUOTT_I08] [varchar](15) NULL,
 CONSTRAINT [PK_MTI08] PRIMARY KEY CLUSTERED 
(
	[IDDET_I08] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[MTI07]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MTI07](
	[IDCAB_I07] [int] IDENTITY(1,1) NOT FOR REPLICATION NOT NULL,
	[PERIO_I07] [char](7) NULL,
	[LOCAL_I07] [char](2) NULL,
	[VOUCH_I07] [char](12) NULL,
	[NUODC_I07] [varchar](15) NULL,
	[FECHA_I07] [datetime] NULL,
	[MAEST_I07] [char](11) NULL,
	[DIREC_I07] [varchar](100) NULL,
	[TELEF_I07] [varchar](20) NULL,
	[FAX___I07] [varchar](20) NULL,
	[EMAIL_I07] [varchar](50) NULL,
	[TENTE_I07] [int] NULL,
	[PFACT_I07] [int] NULL,
	[FVENC_I07] [datetime] NULL,
	[REQUE_I07] [varchar](16) NULL,
	[COTIZ_I07] [varchar](50) NULL,
	[OBSER_I07] [varchar](100) NULL,
	[MONED_I07] [varchar](20) NULL,
	[SUBTO_I07] [float] NULL,
	[IGV___I07] [float] NULL,
	[TOTAL_I07] [float] NULL,
	[FSOLI_I07] [datetime] NULL,
	[PEDID_I07] [varchar](50) NULL,
	[FEREG_I07] [datetime] NULL,
	[ELABO_I07] [varchar](50) NULL,
	[FLAUT_I07] [char](1) NULL,
	[FAPRO_I07] [datetime] NULL,
	[APROB_I07] [varchar](50) NULL,
	[FRECE_I07] [datetime] NULL,
	[RECIB_I07] [varchar](50) NULL,
	[NUVEH_I07] [varchar](50) NULL,
	[TIPOC_I07] [char](2) NULL,
	[USUAR_I07] [varchar](25) NULL,
	[PROAL_I07] [bit] NULL,
	[IDPRA_I07] [float] NULL,
	[RTCOT_I07] [varchar](250) NULL,
	[FLAPR_I07] [bit] NULL,
	[OPERA_I07] [char](40) NULL,
	[TIDOC_I07] [char](50) NULL,
	[AFIGV_I07] [varchar](2) NULL,
	[TIODC_I07] [varchar](2) NULL,
	[PUEST_I07] [varchar](100) NULL,
	[NUDOC_I07] [varchar](20) NULL,
	[OLDNO_I07] [varchar](15) NULL,
	[FLATD_I07] [bit] NULL,
	[FLAU1_I07] [bit] NULL,
	[AUTO1_I07] [varchar](20) NULL,
	[FLAU2_I07] [bit] NULL,
	[AUTO2_I07] [varchar](20) NULL,
	[FLAU3_I07] [bit] NULL,
	[AUTO3_I07] [varchar](20) NULL,
	[NUREQ_I07] [varchar](16) NULL,
	[STATU_I07] [varchar](4) NULL,
	[MODCS_I07] [varchar](50) NULL,
	[FLOEC_I07] [bit] NULL,
	[NUOEC_I07] [varchar](7) NULL,
	[FLIMP_I07] [bit] NULL,
	[FLOTT_I07] [bit] NULL,
	[FLGTD_I07] [bit] NULL,
	[NUOTT_I07] [varchar](15) NULL,
 CONSTRAINT [PK_MTI07] PRIMARY KEY CLUSTERED 
(
	[IDCAB_I07] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  View [dbo].[Logistica_Compras_View_V02]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[Logistica_Compras_View_V02]
AS
SELECT     ORD_REQUISICION.Area_Solicitante, ORD_REQUISICION.Solicitante, ORD_REQUISICION.Codigo_Articulo, ORD_REQUISICION.Articulo, ORD_REQUISICION.Nro_Solicitud, 
                      ORD_REQUISICION.Receptor_Solicitud, ORD_COMPRA.Ruc, ORD_COMPRA.Proveedor, ORD_COMPRA.Nro_Ocompra, ORD_COMPRA.Tipo_Ocompra, ORD_COMPRA.Creador_Ocompra, 
                      ORD_COMPRA.Estado_Compra, ORD_COMPRA.Aprobador_Ocompra, ING_ALMACEN.Nro_Recepcion, ING_ALMACEN.Usuario_Recepcion, ING_ALMACEN.Nro_GuiaRemision, 
                      ING_ALMACEN.Nro_Factura, ING_ALMACEN.Nro_Pago, ING_ALMACEN.Nro_Anticipo, ORD_REQUISICION.Fecha_Solicitud, ORD_REQUISICION.F_Aprobacion_Solicitud, 
                      ORD_COMPRA.Fecha_Pactada_Prov, ORD_COMPRA.Fecha_Ocompra, ORD_COMPRA.Fecha_Aprobacion_Oc, ING_ALMACEN.Fecha_Recepcion, ING_ALMACEN.Nro_GuiaRemision AS Expr1, 
                      ING_ALMACEN.Fecha_Factura, ING_ALMACEN.Fecha_Registro_Factura, ORD_COMPRA.Fecha_Vencimiento_Factura, ORD_COMPRA.Fecha_Pago, ORD_COMPRA.Fecha_Registro_Pago, 
                      ORD_COMPRA.Hoy, ORD_COMPRA.Tiempo_Aprobación_Solicitud, ORD_COMPRA.Tiempo_Registrar_OC, ORD_COMPRA.Tiempo_Aprobación_OC, ORD_COMPRA.Tiempo_Pactado_para_Entrega, 
                      ORD_COMPRA.Tiempo_Real_Recepcion, ORD_COMPRA.Tiempo_Recepcion_a_Registro_Factura, ING_ALMACEN.Tiempo_Emision_Factura_a_Recepcion, 
                      ING_ALMACEN.Tiempo_Emision_Factura_a_Registro, ORD_COMPRA.Plazo_de_Vencimiento, ORD_COMPRA.Tiempo_para_Pago, ORD_COMPRA.Dias_Vencidos, 
                      ORD_COMPRA.Tiempo_Registrar_Pago, ORD_COMPRA.Cantidad_OC, ING_ALMACEN.Cantidad_Recibida, ING_ALMACEN.Cantidad_Cancelada, ING_ALMACEN.Cantidad_Facturada, 
                      ORD_COMPRA.Monto_Factura, ORD_COMPRA.Cantidad_Pendiente_de_Facturar, ORD_COMPRA.Fecha_Giro_Anticipo, ORD_COMPRA.Fecha_Registro_Giro_Anticipo, 
                      ORD_COMPRA.Fecha_Aplicacion_Anticipo, ORD_COMPRA.Fecha_Registro_Aplicacion_Anticipo, ORD_COMPRA.Tiempo_Girar_Anticipo, ORD_COMPRA.T_Registrar_Giro_Anticipo, 
                      ORD_COMPRA.Tiempo_Aplicar_Anticipo, ORD_COMPRA.T_Registrar_Aplicacion_Anticipo, ORD_REQUISICION.Anno_Solicitud, ORD_REQUISICION.Semana_Solicitud, ORD_COMPRA.Anno_Ocompra, 
                      ORD_COMPRA.Semana_Ocompra, ORD_COMPRA.item_Oc, ORD_REQUISICION.Item_Solicitud, ORD_REQUISICION.Estado_Solicitud, ORD_COMPRA.Estado_Ocompra, 
                      ORD_REQUISICION.Cant_Solicitud, ORD_COMPRA.Es_Inventariable, ORD_COMPRA.Monto_Compra, ORD_REQUISICION.Usuario_Solicitud, ORD_REQUISICION.Usuario_Aprobador, 
                      ORD_REQUISICION.Desc_Solicitud, ORD_REQUISICION.Nota_A_Receptor, ORD_COMPRA.Divisa_Compra, ORD_COMPRA.Umedida_Compra, ORD_REQUISICION.ID_OR, 
                      ORD_COMPRA.Es_Importacion, ORD_COMPRA.Fecha_PACTADA_PROVEEDOR_Ocompra
FROM         (SELECT     MA.dbo.MAT18.DESCR_T18 AS Area_Solicitante, dbo.MTT06.DESCR_T06 AS Solicitante, dbo.MTI03.NUREQ_I03 AS Nro_Solicitud, dbo.MTI03.FECHA_I03 AS Fecha_Solicitud, 
                                              dbo.MTI03.FEAPR_I03 AS F_Aprobacion_Solicitud, STR(YEAR(dbo.MTI03.FECHA_I03)) AS Anno_Solicitud, REPLICATE('0', 2 - LEN(LTRIM(STR(DATEPART(week, dbo.MTI03.FECHA_I03))))) 
                                              + LTRIM(STR(DATEPART(week, dbo.MTI03.FECHA_I03))) AS Semana_Solicitud, dbo.MTI04.ITEM__I04 AS Item_Solicitud, MA.dbo.MAT19.DESCR_T19 AS Estado_Solicitud, 
                                              dbo.MTI03.USUAR_I03 AS Usuario_Solicitud, MA.dbo.MAT22.DESCR_T22 AS Usuario_Aprobador, dbo.MTI04.CODMA_I04 AS Codigo_Articulo, 
                                              MS.dbo.MST21.DESMA_M02 AS Desc_Solicitud, dbo.MTI04.CANTI_I04 AS Cant_Solicitud, 'Mercedes Quecano' AS Receptor_Solicitud, dbo.MTI03.OBSER_I03 AS Nota_A_Receptor, 
                                              MS.dbo.MST21.DESMA_M02 AS Articulo, dbo.MTI03.IDCAB_I03 AS ID_OR
                       FROM          dbo.MTI03 INNER JOIN
                                              dbo.MTI04 INNER JOIN
                                              MS.dbo.MST21 ON dbo.MTI04.CODMA_I04 = MS.dbo.MST21.CODMA_M02 ON dbo.MTI03.IDCAB_I03 = dbo.MTI04.IDCAB_I04 INNER JOIN
                                              MA.dbo.MAT18 ON dbo.MTI03.AREAS_I03 = MA.dbo.MAT18.CODIG_T18 INNER JOIN
                                              dbo.MTT06 ON dbo.MTI03.PEDID_I03 = dbo.MTT06.CODIG_T06 INNER JOIN
                                              MA.dbo.MAT19 ON dbo.MTI03.STATU_I03 = MA.dbo.MAT19.ABREV_T19 LEFT OUTER JOIN
                                              MA.dbo.MAT22 ON dbo.MTI03.AUTO1_I03 = MA.dbo.MAT22.ABREV_T22
                       WHERE      (dbo.MTI03.PERIO_I03 >= '2020-12') AND (dbo.MTI03.TIODC_I03 = '110')) AS ORD_REQUISICION LEFT OUTER JOIN
                          (SELECT     DAY(dbo.MTI07.FECHA_I07) AS Dia, REPLICATE('0', 2 - LEN(LTRIM(STR(DATEPART(week, dbo.MTI07.FECHA_I07))))) + LTRIM(STR(DATEPART(week, dbo.MTI07.FECHA_I07))) AS SEMANA, 
                                                   MONTH(dbo.MTI07.FECHA_I07) AS Mes, YEAR(dbo.MTI07.FECHA_I07) AS Año, dbo.MTI07.NUODC_I07 AS Nro_Ocompra, dbo.MTI07.NUODC_I07 AS Nro_Ocompra1, 
                                                   'STANDARD' AS Tipo_Ocompra, dbo.MTI07.ELABO_I07 AS Creador_Ocompra, MAT19_1.DESCR_T19 AS Estado_Ocompra, MAT22_1.DESCR_T22 AS Aprobador_Ocompra, 
                                                   dbo.MTI07.FVENC_I07 AS Fecha_Pactada_Prov, dbo.MTI07.FEREG_I07 AS Fecha_Ocompra, dbo.MTI07.FAPRO_I07 AS Fecha_Aprobacion_Oc, dbo.MTI07.REQUE_I07 AS Nro_Solicitud, 
                                                   dbo.MTI07.MAEST_I07 AS Ruc, MS.dbo.MST20.NOMBR_M02 AS Proveedor, dbo.MTI07.FVENC_I07 AS Fecha_Vencimiento_Factura, dbo.MTI07.PFACT_I07 AS Plazo_de_Vencimiento, 
                                                   '' AS Fecha_Pago, '' AS Fecha_Registro_Pago, GETDATE() AS Hoy, '' AS Tiempo_Aprobación_Solicitud, '' AS Tiempo_Registrar_OC, '' AS Tiempo_Aprobación_OC, 
                                                   0 AS Tiempo_Pactado_para_Entrega, '' AS Tiempo_Real_Recepcion, '' AS Tiempo_Recepcion_a_Registro_Factura, '' AS Tiempo_para_Pago, '' AS Dias_Vencidos, 
                                                   '' AS Tiempo_Registrar_Pago, dbo.MTI07.TOTAL_I07 AS Monto_Factura, 0 AS Cantidad_Pendiente_de_Facturar, '' AS Fecha_Giro_Anticipo, '' AS Fecha_Registro_Giro_Anticipo, 
                                                   '' AS Fecha_Aplicacion_Anticipo, '' AS Fecha_Registro_Aplicacion_Anticipo, '' AS Tiempo_Girar_Anticipo, '' AS T_Registrar_Giro_Anticipo, '' AS Tiempo_Aplicar_Anticipo, 
                                                   '' AS T_Registrar_Aplicacion_Anticipo, STR(YEAR(dbo.MTI07.FECHA_I07)) AS Anno_Ocompra, REPLICATE('0', 2 - LEN(LTRIM(STR(DATEPART(week, dbo.MTI07.FECHA_I07))))) 
                                                   + LTRIM(STR(DATEPART(week, dbo.MTI07.FECHA_I07))) AS Semana_Ocompra, MAT19_1.DESCR_T19 AS Estado_Compra, 'SI' AS Es_Inventariable, 
                                                   dbo.MTI08.VALOR_I08 AS Monto_Compra, dbo.MTI08.ITEM__I08 AS item_Oc, dbo.MTI08.CODMA_I08 AS Codigo_Articulo, dbo.MTI08.CODMA_I08 AS Codigo_Articulo1, 
                                                   dbo.MTI08.DESMA_I08 AS Articulo, dbo.MTI08.DESMA_I08 AS DESMA, dbo.MTI08.CANTI_I08 AS Cantidad_OC, dbo.MTI07.MONED_I07 AS Divisa_Compra, 
                                                   dbo.MTI08.UNIDA_I08 AS Umedida_Compra, dbo.MTI07.FLIMP_I07 AS Es_Importacion, 
                                                   dbo.MTI07.FECHA_I07 + dbo.MTI07.PFACT_I07 AS Fecha_PACTADA_PROVEEDOR_Ocompra
                            FROM          dbo.MTI07 INNER JOIN
                                                   dbo.MTI08 ON dbo.MTI07.IDCAB_I07 = dbo.MTI08.IDCAB_I08 INNER JOIN
                                                   MS.dbo.MST20 ON dbo.MTI07.MAEST_I07 = MS.dbo.MST20.MAEST_M02 AND MS.dbo.MST20.CLASE_M02 = '05005' INNER JOIN
                                                   MA.dbo.MAT19 AS MAT19_1 ON dbo.MTI07.STATU_I07 = MAT19_1.ABREV_T19 LEFT OUTER JOIN
                                                   MA.dbo.MAT22 AS MAT22_1 ON dbo.MTI07.AUTO1_I07 = MAT22_1.ABREV_T22
                            WHERE      (dbo.MTI07.PERIO_I07 > '2020-12') AND (dbo.MTI07.TIPOC_I07 = '01')) AS ORD_COMPRA ON ORD_REQUISICION.Nro_Solicitud = ORD_COMPRA.Nro_Solicitud AND 
                      ORD_REQUISICION.Codigo_Articulo = ORD_COMPRA.Codigo_Articulo LEFT OUTER JOIN
                          (SELECT     dbo.MTI0105.NUODC_I01 AS Nro_Ocompra1, dbo.MTI0105.VOUCH_I01 AS Nro_Recepcion, 'spalma' AS Usuario_Recepcion, dbo.MTI0105.NUGUI_I01 AS Nro_GuiaRemision, 
                                                   dbo.MTI0105.NUDOC_I01 AS Nro_Factura, dbo.MTI0105.FEREG_I01 AS Fecha_Recepcion, dbo.MTI0105.FEFAC_I01 AS Fecha_Factura, 
                                                   dbo.MTI0105.FEREG_I01 AS Fecha_Registro_Factura, '' AS Nro_Pago, '' AS Nro_Anticipo, dbo.MTI0205.ITEM__I02, dbo.MTI0205.CODMA_I02 AS Codigo_Articulo1, 
                                                   dbo.MTI0205.CANTI_I02 AS Cantidad_Recibida, 0 AS Cantidad_Cancelada, dbo.MTI0205.CANTI_I02 AS Cantidad_Facturada, DATEDIFF(DAY, dbo.MTI0105.FEDOC_I01, 
                                                   dbo.MTI0105.FEFAC_I01) AS Tiempo_Emision_Factura_a_Recepcion, DATEDIFF(DAY, dbo.MTI0105.FEFAC_I01, dbo.MTI0105.FEREG_I01) 
                                                   AS Tiempo_Emision_Factura_a_Registro
                            FROM          dbo.MTI0105 INNER JOIN
                                                   dbo.MTI0205 ON dbo.MTI0105.IDCAB_I01 = dbo.MTI0205.IDCAB_I02
                            WHERE      (dbo.MTI0105.PERIO_I01 > '2020-12') AND (dbo.MTI0105.TIVOU_I01 = '1 - Ingresos   ') AND (dbo.MTI0105.OPERA_I01 = '101 - Ingreso por Compras               ')) AS ING_ALMACEN ON 
                      ORD_COMPRA.Nro_Ocompra1 = ING_ALMACEN.Nro_Ocompra1 AND ORD_COMPRA.Codigo_Articulo1 = ING_ALMACEN.Codigo_Articulo1
GO
/****** Object:  View [dbo].[View_DATA_OR01]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[View_DATA_OR01]
AS
SELECT     TOP 100 PERCENT dbo.MTI03.PERIO_I03 AS PERIODO, dbo.MTI03.FECHA_I03 AS FECHA, dbo.MTI03.NUREQ_I03 AS [OR], dbo.MTI03.AREAS_I03 AS COD_AREA, 
                      MA.dbo.MAT18.DESCR_T18 AS AREA, dbo.MTI03.PEDID_I03 AS COD_SOLICITANTE, dbo.MTT06.DESCR_T06 AS SOLICITANTE, dbo.MTI03.OBSER_I03 AS OBSERVACION
FROM         dbo.MTI03 INNER JOIN
                      MA.dbo.MAT18 ON dbo.MTI03.AREAS_I03 = MA.dbo.MAT18.CODIG_T18 INNER JOIN
                      dbo.MTT06 ON dbo.MTI03.PEDID_I03 = dbo.MTT06.CODIG_T06
WHERE     (dbo.MTI03.STATU_I03 = 'OR01')
ORDER BY dbo.MTI03.PERIO_I03, dbo.MTI03.FECHA_I03, dbo.MTI03.NUREQ_I03, dbo.MTI03.AREAS_I03, dbo.MTI03.PEDID_I03
GO
/****** Object:  View [dbo].[View_TOTALESxSTATUS_OR]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[View_TOTALESxSTATUS_OR]
AS
SELECT     SUM(TOTAL_OR01) AS TOTAL_OR01, SUM(TOTAL_OR02) AS TOTAL_OR02, SUM(TOTAL_OR03) AS TOTAL_OR03, SUM(TOTAL_OR04) AS TOTAL_OR04, SUM(TOTAL_OR05) AS TOTAL_OR05, 
                      SUM(TOTAL_OR06) AS TOTAL_OR06
FROM         (SELECT     CASE WHEN STATU_I03 = 'OR01' THEN 1 ELSE 0 END AS TOTAL_OR01, CASE WHEN STATU_I03 = 'OR02' THEN 1 ELSE 0 END AS TOTAL_OR02, 
                                              CASE WHEN STATU_I03 = 'OR03' THEN 1 ELSE 0 END AS TOTAL_OR03, CASE WHEN STATU_I03 = 'OR04' THEN 1 ELSE 0 END AS TOTAL_OR04, 
                                              CASE WHEN STATU_I03 = 'OR05' THEN 1 ELSE 0 END AS TOTAL_OR05, CASE WHEN STATU_I03 = 'OR06' THEN 1 ELSE 0 END AS TOTAL_OR06
                       FROM          dbo.MTI03) AS TOTALES
GO
/****** Object:  View [dbo].[View_DATA_OR02]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
/*OR_APROBADA		OR02*/
CREATE VIEW [dbo].[View_DATA_OR02]
AS
SELECT     TOP 100 PERCENT dbo.MTI03.PERIO_I03 AS PERIODO, dbo.MTI03.FECHA_I03 AS FECHA, dbo.MTI03.NUREQ_I03 AS [OR], dbo.MTI03.AREAS_I03 AS COD_AREA, 
                      MA.dbo.MAT18.DESCR_T18 AS AREA, dbo.MTI03.PEDID_I03 AS COD_SOLICITANTE, dbo.MTT06.DESCR_T06 AS SOLICITANTE, dbo.MTI03.OBSER_I03 AS OBSERVACION
FROM         dbo.MTI03 INNER JOIN
                      MA.dbo.MAT18 ON dbo.MTI03.AREAS_I03 = MA.dbo.MAT18.CODIG_T18 INNER JOIN
                      dbo.MTT06 ON dbo.MTI03.PEDID_I03 = dbo.MTT06.CODIG_T06
WHERE     (dbo.MTI03.STATU_I03 = 'OR02')
ORDER BY dbo.MTI03.PERIO_I03, dbo.MTI03.FECHA_I03, dbo.MTI03.NUREQ_I03, dbo.MTI03.AREAS_I03, dbo.MTI03.PEDID_I03
GO
/****** Object:  View [dbo].[View_DATA_OR03]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
/*OR_ATENDPARCIAL	OR03*/
CREATE VIEW [dbo].[View_DATA_OR03]
AS
SELECT     TOP 100 PERCENT dbo.MTI03.PERIO_I03 AS PERIODO, dbo.MTI03.FECHA_I03 AS FECHA, dbo.MTI03.NUREQ_I03 AS [OR], dbo.MTI03.AREAS_I03 AS COD_AREA, 
                      MA.dbo.MAT18.DESCR_T18 AS AREA, dbo.MTI03.PEDID_I03 AS COD_SOLICITANTE, dbo.MTT06.DESCR_T06 AS SOLICITANTE, dbo.MTI03.OBSER_I03 AS OBSERVACION
FROM         dbo.MTI03 INNER JOIN
                      MA.dbo.MAT18 ON dbo.MTI03.AREAS_I03 = MA.dbo.MAT18.CODIG_T18 INNER JOIN
                      dbo.MTT06 ON dbo.MTI03.PEDID_I03 = dbo.MTT06.CODIG_T06
WHERE     (dbo.MTI03.STATU_I03 = 'OR03')
ORDER BY dbo.MTI03.PERIO_I03, dbo.MTI03.FECHA_I03, dbo.MTI03.NUREQ_I03, dbo.MTI03.AREAS_I03, dbo.MTI03.PEDID_I03
GO
/****** Object:  View [dbo].[View_DATA_OR04]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
/*OR_ATENDCOMPLETA	OR04*/
CREATE VIEW [dbo].[View_DATA_OR04]
AS
SELECT     TOP 100 PERCENT dbo.MTI03.PERIO_I03 AS PERIODO, dbo.MTI03.FECHA_I03 AS FECHA, dbo.MTI03.NUREQ_I03 AS [OR], dbo.MTI03.AREAS_I03 AS COD_AREA, 
                      MA.dbo.MAT18.DESCR_T18 AS AREA, dbo.MTI03.PEDID_I03 AS COD_SOLICITANTE, dbo.MTT06.DESCR_T06 AS SOLICITANTE, dbo.MTI03.OBSER_I03 AS OBSERVACION
FROM         dbo.MTI03 INNER JOIN
                      MA.dbo.MAT18 ON dbo.MTI03.AREAS_I03 = MA.dbo.MAT18.CODIG_T18 INNER JOIN
                      dbo.MTT06 ON dbo.MTI03.PEDID_I03 = dbo.MTT06.CODIG_T06
WHERE     (dbo.MTI03.STATU_I03 = 'OR04')
ORDER BY dbo.MTI03.PERIO_I03, dbo.MTI03.FECHA_I03, dbo.MTI03.NUREQ_I03, dbo.MTI03.AREAS_I03, dbo.MTI03.PEDID_I03
GO
/****** Object:  View [dbo].[View_DATA_OR05]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
/*OR_CERRADA		OR05*/
CREATE VIEW [dbo].[View_DATA_OR05]
AS
SELECT     TOP 100 PERCENT dbo.MTI03.PERIO_I03 AS PERIODO, dbo.MTI03.FECHA_I03 AS FECHA, dbo.MTI03.NUREQ_I03 AS [OR], dbo.MTI03.AREAS_I03 AS COD_AREA, 
                      MA.dbo.MAT18.DESCR_T18 AS AREA, dbo.MTI03.PEDID_I03 AS COD_SOLICITANTE, dbo.MTT06.DESCR_T06 AS SOLICITANTE, dbo.MTI03.OBSER_I03 AS OBSERVACION
FROM         dbo.MTI03 INNER JOIN
                      MA.dbo.MAT18 ON dbo.MTI03.AREAS_I03 = MA.dbo.MAT18.CODIG_T18 INNER JOIN
                      dbo.MTT06 ON dbo.MTI03.PEDID_I03 = dbo.MTT06.CODIG_T06
WHERE     (dbo.MTI03.STATU_I03 = 'OR05')
ORDER BY dbo.MTI03.PERIO_I03, dbo.MTI03.FECHA_I03, dbo.MTI03.NUREQ_I03, dbo.MTI03.AREAS_I03, dbo.MTI03.PEDID_I03
GO
/****** Object:  View [dbo].[View_DATA_OR06]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
/*OR_RECHAZADA		OR06*/
CREATE VIEW [dbo].[View_DATA_OR06]
AS
SELECT     TOP 100 PERCENT dbo.MTI03.PERIO_I03 AS PERIODO, dbo.MTI03.FECHA_I03 AS FECHA, dbo.MTI03.NUREQ_I03 AS [OR], dbo.MTI03.AREAS_I03 AS COD_AREA, 
                      MA.dbo.MAT18.DESCR_T18 AS AREA, dbo.MTI03.PEDID_I03 AS COD_SOLICITANTE, dbo.MTT06.DESCR_T06 AS SOLICITANTE, dbo.MTI03.OBSER_I03 AS OBSERVACION
FROM         dbo.MTI03 INNER JOIN
                      MA.dbo.MAT18 ON dbo.MTI03.AREAS_I03 = MA.dbo.MAT18.CODIG_T18 INNER JOIN
                      dbo.MTT06 ON dbo.MTI03.PEDID_I03 = dbo.MTT06.CODIG_T06
WHERE     (dbo.MTI03.STATU_I03 = 'OR06')
ORDER BY dbo.MTI03.PERIO_I03, dbo.MTI03.FECHA_I03, dbo.MTI03.NUREQ_I03, dbo.MTI03.AREAS_I03, dbo.MTI03.PEDID_I03
GO
/****** Object:  View [dbo].[VSELECT TOTALES OR V02]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[VSELECT TOTALES OR V02]
AS
SELECT     TOP 100 PERCENT dbo.MTI03.AREAS_I03 + ' - ' + MA.dbo.MAT18.DESCR_T18 AS AREA, RIGHT('0000' + CAST(DATEPART(year, dbo.MTI03.FECHA_I03) AS varchar(4)), 4) 
                      + '-' + RIGHT('00' + CAST(DATEPART(month, dbo.MTI03.FECHA_I03) AS varchar(2)), 2) AS PERIODO, dbo.MTI03.USUAR_I03 AS EMISOR, 
                      dbo.MTI03.STATU_I03 + ' - ' + MA.dbo.MAT19.DESCR_T19 AS ESTADO, COUNT(dbo.MTI03.STATU_I03) AS CANTIDAD
FROM         dbo.MTI03 INNER JOIN
                      MA.dbo.MAT18 ON dbo.MTI03.AREAS_I03 = MA.dbo.MAT18.CODIG_T18 INNER JOIN
                      MA.dbo.MAT19 ON dbo.MTI03.STATU_I03 = MA.dbo.MAT19.ABREV_T19
WHERE     (LEN(dbo.MTI03.AREAS_I03) = 2)
GROUP BY dbo.MTI03.AREAS_I03 + ' - ' + MA.dbo.MAT18.DESCR_T18, RIGHT('0000' + CAST(DATEPART(year, dbo.MTI03.FECHA_I03) AS varchar(4)), 4) + '-' + RIGHT('00' + CAST(DATEPART(month, 
                      dbo.MTI03.FECHA_I03) AS varchar(2)), 2), dbo.MTI03.USUAR_I03, dbo.MTI03.STATU_I03 + ' - ' + MA.dbo.MAT19.DESCR_T19
ORDER BY dbo.MTI03.AREAS_I03 + ' - ' + MA.dbo.MAT18.DESCR_T18, RIGHT('0000' + CAST(DATEPART(year, dbo.MTI03.FECHA_I03) AS varchar(4)), 4) + '-' + RIGHT('00' + CAST(DATEPART(month, 
                      dbo.MTI03.FECHA_I03) AS varchar(2)), 2), dbo.MTI03.USUAR_I03, dbo.MTI03.STATU_I03 + ' - ' + MA.dbo.MAT19.DESCR_T19
GO
/****** Object:  View [dbo].[View_VISTA CONSUMOS DE ALMACEN EQUIPOS DE TALLER]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[View_VISTA CONSUMOS DE ALMACEN EQUIPOS DE TALLER]
AS
SELECT     TOP 100 PERCENT LEFT(dbo.MTI0105.PERIO_I01, 4) AS AÑO, RIGHT(dbo.MTI0105.PERIO_I01, 2) AS MES, PR.dbo.PRT02.DESCR_T02 AS TIPO, PR.dbo.PRT03.DESCR_T03 AS EQUIPO, 
                      MS.dbo.MST22.DSITE_T02 AS CLASE, MS.dbo.MST21.DESMA_M02 AS PRODUCTO, dbo.MTI0105.FEDOC_I01 AS FECHA, dbo.MTI0205.CANTI_I02 AS CANTIDAD, MS.dbo.MST21.UNIDA_M02 AS UM, 
                      dbo.MTI0205.PRECI_I02 AS PRECIO, dbo.MTI0205.SOLES_I02 AS SOLES
FROM         dbo.MTI0105 INNER JOIN
                      dbo.MTI0205 INNER JOIN
                      PR.dbo.PRT03 INNER JOIN
                      PR.dbo.PRT02 ON PR.dbo.PRT03.NIV02_T03 = PR.dbo.PRT02.ABREV_T02 ON dbo.MTI0205.COSTO_I02 = PR.dbo.PRT03.ABREV_T03 INNER JOIN
                      MS.dbo.MST21 INNER JOIN
                      MS.dbo.MST22 ON LEFT(MS.dbo.MST21.CODMA_M02, 4) = MS.dbo.MST22.CDITE_T02 ON dbo.MTI0205.CODMA_I02 = MS.dbo.MST21.CODMA_M02 ON 
                      dbo.MTI0105.IDCAB_I01 = dbo.MTI0205.IDCAB_I02
WHERE     (dbo.MTI0105.TIVOU_I01 = '2 - Salidas    ') AND (LEFT(dbo.MTI0205.COSTO_I02, 4) IN ('0501', '0502', '0503')) AND (dbo.MTI0105.FEDOC_I01 BETWEEN CONVERT(DATETIME, '01/01/2013', 103) AND 
                      CONVERT(DATETIME, '31/12/2030', 103))
ORDER BY dbo.MTI0105.PERIO_I01, PR.dbo.PRT02.ABREV_T02, dbo.MTI0205.COSTO_I02, dbo.MTI0205.CODMA_I02, dbo.MTI0105.FEDOC_I01
GO
/****** Object:  View [dbo].[Logistica_Compras_View]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[Logistica_Compras_View]
AS
SELECT     ORD_REQUISICION.Area_Solicitante, ORD_REQUISICION.Solicitante, ORD_COMPRA.Codigo_Articulo, ORD_COMPRA.Articulo, ORD_COMPRA.Nro_Solicitud, ORD_REQUISICION.Receptor_Solicitud, 
                      ORD_COMPRA.Ruc, ORD_COMPRA.Proveedor, ORD_COMPRA.Nro_Ocompra, ORD_COMPRA.Tipo_Ocompra, ORD_COMPRA.Creador_Ocompra, ORD_COMPRA.Estado_Compra, 
                      ORD_COMPRA.Aprobador_Ocompra, ING_ALMACEN.Nro_Recepcion, ING_ALMACEN.Usuario_Recepcion, ING_ALMACEN.Nro_GuiaRemision, ING_ALMACEN.Nro_Factura, ING_ALMACEN.Nro_Pago, 
                      ING_ALMACEN.Nro_Anticipo, ORD_REQUISICION.Fecha_Solicitud, ORD_REQUISICION.F_Aprobacion_Solicitud, ORD_COMPRA.Fecha_Pactada_Prov, ORD_COMPRA.Fecha_Ocompra, 
                      ORD_COMPRA.Fecha_Aprobacion_Oc, ING_ALMACEN.Fecha_Recepcion, ING_ALMACEN.Nro_GuiaRemision AS Expr1, ING_ALMACEN.Fecha_Factura, ING_ALMACEN.Fecha_Registro_Factura, 
                      ORD_COMPRA.Fecha_PACTADA_PROVEEDOR_Ocompra, ORD_COMPRA.Fecha_Vencimiento_Factura, ORD_COMPRA.Fecha_Pago, ORD_COMPRA.Fecha_Registro_Pago, ORD_COMPRA.Hoy, 
                      ORD_COMPRA.Tiempo_Aprobación_Solicitud, ORD_COMPRA.Tiempo_Registrar_OC, ORD_COMPRA.Tiempo_Aprobación_OC, ORD_COMPRA.Tiempo_Pactado_para_Entrega, 
                      ORD_COMPRA.Tiempo_Real_Recepcion, ORD_COMPRA.Tiempo_Recepcion_a_Registro_Factura, ING_ALMACEN.Tiempo_Emision_Factura_a_Recepcion, 
                      ING_ALMACEN.Tiempo_Emision_Factura_a_Registro, ORD_COMPRA.Plazo_de_Vencimiento, ORD_COMPRA.Tiempo_para_Pago, ORD_COMPRA.Dias_Vencidos, 
                      ORD_COMPRA.Tiempo_Registrar_Pago, ORD_COMPRA.Cantidad_OC, ING_ALMACEN.Cantidad_Recibida, ING_ALMACEN.Cantidad_Cancelada, ING_ALMACEN.Cantidad_Facturada, 
                      ORD_COMPRA.Monto_Factura, ORD_COMPRA.Cantidad_Pendiente_de_Facturar, ORD_COMPRA.Fecha_Giro_Anticipo, ORD_COMPRA.Fecha_Registro_Giro_Anticipo, 
                      ORD_COMPRA.Fecha_Aplicacion_Anticipo, ORD_COMPRA.Fecha_Registro_Aplicacion_Anticipo, ORD_COMPRA.Tiempo_Girar_Anticipo, ORD_COMPRA.T_Registrar_Giro_Anticipo, 
                      ORD_COMPRA.Tiempo_Aplicar_Anticipo, ORD_COMPRA.T_Registrar_Aplicacion_Anticipo, ORD_REQUISICION.Anno_Solicitud, ORD_REQUISICION.Semana_Solicitud, ORD_COMPRA.Anno_Ocompra, 
                      ORD_COMPRA.Semana_Ocompra, ORD_COMPRA.item_Oc, ORD_REQUISICION.Item_Solicitud, ORD_REQUISICION.Estado_Solicitud, ORD_COMPRA.Estado_Ocompra, 
                      ORD_REQUISICION.Cant_Solicitud, ORD_COMPRA.Es_Inventariable, ORD_COMPRA.Monto_Compra, ORD_REQUISICION.Usuario_Solicitud, ORD_REQUISICION.Usuario_Aprobador, 
                      ORD_REQUISICION.Desc_Solicitud, ORD_REQUISICION.Nota_A_Receptor, ORD_COMPRA.Divisa_Compra, ORD_COMPRA.Umedida_Compra, ORD_COMPRA.Es_Importacion
FROM         (SELECT     DAY(dbo.MTI07.FECHA_I07) AS Dia, REPLICATE('0', 2 - LEN(LTRIM(STR(DATEPART(week, dbo.MTI07.FECHA_I07))))) + LTRIM(STR(DATEPART(week, dbo.MTI07.FECHA_I07))) AS SEMANA, 
                                              MONTH(dbo.MTI07.FECHA_I07) AS Mes, YEAR(dbo.MTI07.FECHA_I07) AS Año, dbo.MTI07.NUODC_I07 AS Nro_Ocompra, dbo.MTI07.NUODC_I07 AS Nro_Ocompra1, 
                                              'STANDARD' AS Tipo_Ocompra, dbo.MTI07.ELABO_I07 AS Creador_Ocompra, MA.dbo.MAT19.DESCR_T19 AS Estado_Ocompra, MA.dbo.MAT22.DESCR_T22 AS Aprobador_Ocompra, 
                                              dbo.MTI07.FVENC_I07 AS Fecha_Pactada_Prov, dbo.MTI07.FEREG_I07 AS Fecha_Ocompra, dbo.MTI07.FAPRO_I07 AS Fecha_Aprobacion_Oc, dbo.MTI07.REQUE_I07 AS Nro_Solicitud, 
                                              dbo.MTI07.MAEST_I07 AS Ruc, MS.dbo.MST20.NOMBR_M02 AS Proveedor, dbo.MTI07.FVENC_I07 AS Fecha_Vencimiento_Factura, dbo.MTI07.PFACT_I07 AS Plazo_de_Vencimiento, 
                                              '' AS Fecha_Pago, '' AS Fecha_Registro_Pago, GETDATE() AS Hoy, '' AS Tiempo_Aprobación_Solicitud, '' AS Tiempo_Registrar_OC, '' AS Tiempo_Aprobación_OC, 
                                              0 AS Tiempo_Pactado_para_Entrega, '' AS Tiempo_Real_Recepcion, '' AS Tiempo_Recepcion_a_Registro_Factura, '' AS Tiempo_para_Pago, '' AS Dias_Vencidos, 
                                              '' AS Tiempo_Registrar_Pago, dbo.MTI07.TOTAL_I07 AS Monto_Factura, 0 AS Cantidad_Pendiente_de_Facturar, '' AS Fecha_Giro_Anticipo, '' AS Fecha_Registro_Giro_Anticipo, 
                                              '' AS Fecha_Aplicacion_Anticipo, '' AS Fecha_Registro_Aplicacion_Anticipo, '' AS Tiempo_Girar_Anticipo, '' AS T_Registrar_Giro_Anticipo, '' AS Tiempo_Aplicar_Anticipo, 
                                              '' AS T_Registrar_Aplicacion_Anticipo, STR(YEAR(dbo.MTI07.FECHA_I07)) AS Anno_Ocompra, REPLICATE('0', 2 - LEN(LTRIM(STR(DATEPART(week, dbo.MTI07.FECHA_I07))))) 
                                              + LTRIM(STR(DATEPART(week, dbo.MTI07.FECHA_I07))) AS Semana_Ocompra, MA.dbo.MAT19.DESCR_T19 AS Estado_Compra, 'SI' AS Es_Inventariable, 
                                              dbo.MTI08.VALOR_I08 AS Monto_Compra, dbo.MTI08.ITEM__I08 AS item_Oc, dbo.MTI08.CODMA_I08 AS Codigo_Articulo, dbo.MTI08.CODMA_I08 AS Codigo_Articulo1, 
                                              dbo.MTI08.DESMA_I08 AS Articulo, dbo.MTI08.DESMA_I08 AS DESMA, dbo.MTI08.CANTI_I08 AS Cantidad_OC, dbo.MTI07.MONED_I07 AS Divisa_Compra, 
                                              dbo.MTI08.UNIDA_I08 AS Umedida_Compra, dbo.MTI07.FLIMP_I07 AS Es_Importacion, dbo.MTI07.FECHA_I07 + dbo.MTI07.PFACT_I07 AS Fecha_PACTADA_PROVEEDOR_Ocompra
                       FROM          dbo.MTI07 INNER JOIN
                                              dbo.MTI08 ON dbo.MTI07.IDCAB_I07 = dbo.MTI08.IDCAB_I08 INNER JOIN
                                              MS.dbo.MST20 ON dbo.MTI07.MAEST_I07 = MS.dbo.MST20.MAEST_M02 AND MS.dbo.MST20.CLASE_M02 = '05005' INNER JOIN
                                              MA.dbo.MAT19 ON dbo.MTI07.STATU_I07 = MA.dbo.MAT19.ABREV_T19 LEFT OUTER JOIN
                                              MA.dbo.MAT22 ON dbo.MTI07.AUTO1_I07 = MA.dbo.MAT22.ABREV_T22
                       WHERE      (dbo.MTI07.PERIO_I07 > '2018-09') AND (dbo.MTI07.TIPOC_I07 = '01')) AS ORD_COMPRA LEFT OUTER JOIN
                          (SELECT     dbo.MTI0105.NUODC_I01 AS Nro_Ocompra1, dbo.MTI0105.VOUCH_I01 AS Nro_Recepcion, 'spalma' AS Usuario_Recepcion, dbo.MTI0105.NUGUI_I01 AS Nro_GuiaRemision, 
                                                   dbo.MTI0105.NUDOC_I01 AS Nro_Factura, dbo.MTI0105.FEREG_I01 AS Fecha_Recepcion, dbo.MTI0105.FEFAC_I01 AS Fecha_Factura, 
                                                   dbo.MTI0105.FEREG_I01 AS Fecha_Registro_Factura, '' AS Nro_Pago, '' AS Nro_Anticipo, dbo.MTI0205.ITEM__I02, dbo.MTI0205.CODMA_I02 AS Codigo_Articulo1, 
                                                   dbo.MTI0205.CANTI_I02 AS Cantidad_Recibida, 0 AS Cantidad_Cancelada, dbo.MTI0205.CANTI_I02 AS Cantidad_Facturada, DATEDIFF(DAY, dbo.MTI0105.FEDOC_I01, 
                                                   dbo.MTI0105.FEFAC_I01) AS Tiempo_Emision_Factura_a_Recepcion, DATEDIFF(DAY, dbo.MTI0105.FEFAC_I01, dbo.MTI0105.FEREG_I01) 
                                                   AS Tiempo_Emision_Factura_a_Registro
                            FROM          dbo.MTI0105 INNER JOIN
                                                   dbo.MTI0205 ON dbo.MTI0105.IDCAB_I01 = dbo.MTI0205.IDCAB_I02
                            WHERE      (dbo.MTI0105.PERIO_I01 > '2018-09') AND (dbo.MTI0105.TIVOU_I01 = '1 - Ingresos   ') AND (dbo.MTI0105.OPERA_I01 = '101 - Ingreso por Compras               ')) AS ING_ALMACEN ON 
                      ORD_COMPRA.Nro_Ocompra1 = ING_ALMACEN.Nro_Ocompra1 AND ORD_COMPRA.Codigo_Articulo1 = ING_ALMACEN.Codigo_Articulo1 LEFT OUTER JOIN
                          (SELECT     MA.dbo.MAT18.DESCR_T18 AS Area_Solicitante, dbo.MTT06.DESCR_T06 AS Solicitante, dbo.MTI03.NUREQ_I03 AS Nro_Solicitud, dbo.MTI03.FECHA_I03 AS Fecha_Solicitud, 
                                                   dbo.MTI03.FEAPR_I03 AS F_Aprobacion_Solicitud, STR(YEAR(dbo.MTI03.FECHA_I03)) AS Anno_Solicitud, REPLICATE('0', 2 - LEN(LTRIM(STR(DATEPART(week, dbo.MTI03.FECHA_I03))))) 
                                                   + LTRIM(STR(DATEPART(week, dbo.MTI03.FECHA_I03))) AS Semana_Solicitud, dbo.MTI04.ITEM__I04 AS Item_Solicitud, MAT19_1.DESCR_T19 AS Estado_Solicitud, 
                                                   dbo.MTI03.USUAR_I03 AS Usuario_Solicitud, MAT22_1.DESCR_T22 AS Usuario_Aprobador, dbo.MTI04.CODMA_I04 AS Codigo_Articulo, MS.dbo.MST21.DESMA_M02 AS Desc_Solicitud, 
                                                   dbo.MTI04.CANTI_I04 AS Cant_Solicitud, 'Mercedes Quecano' AS Receptor_Solicitud, dbo.MTI03.OBSER_I03 AS Nota_A_Receptor
                            FROM          dbo.MTI03 INNER JOIN
                                                   dbo.MTI04 INNER JOIN
                                                   MS.dbo.MST21 ON dbo.MTI04.CODMA_I04 = MS.dbo.MST21.CODMA_M02 ON dbo.MTI03.IDCAB_I03 = dbo.MTI04.IDCAB_I04 INNER JOIN
                                                   MA.dbo.MAT18 ON dbo.MTI03.AREAS_I03 = MA.dbo.MAT18.CODIG_T18 INNER JOIN
                                                   dbo.MTT06 ON dbo.MTI03.PEDID_I03 = dbo.MTT06.CODIG_T06 INNER JOIN
                                                   MA.dbo.MAT19 AS MAT19_1 ON dbo.MTI03.STATU_I03 = MAT19_1.ABREV_T19 LEFT OUTER JOIN
                                                   MA.dbo.MAT22 AS MAT22_1 ON dbo.MTI03.AUTO1_I03 = MAT22_1.ABREV_T22
                            WHERE      (dbo.MTI03.PERIO_I03 > '2018-09') AND (dbo.MTI03.TIODC_I03 = '110')) AS ORD_REQUISICION ON ORD_COMPRA.Nro_Solicitud = ORD_REQUISICION.Nro_Solicitud AND 
                      ORD_COMPRA.Codigo_Articulo = ORD_REQUISICION.Codigo_Articulo
GO
/****** Object:  Table [dbo].[all_sales]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[all_sales](
	[year] [int] NULL,
	[month] [int] NULL,
	[prd_type_id] [int] NULL,
	[emp_id] [int] NULL,
	[amount] [float] NULL
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[mtI0305]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[mtI0305](
	[IDCIE_I03] [int] IDENTITY(1,1) NOT FOR REPLICATION NOT NULL,
	[EMPRE_I03] [char](2) NULL,
	[CODAL_I03] [char](5) NULL,
	[PERIO_I03] [char](9) NULL,
	[STATU_I03] [char](1) NULL
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[mtI0405]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[mtI0405](
	[EMPRE_I04] [nvarchar](2) NULL,
	[CODSE_I04] [nvarchar](5) NULL,
	[NUMES_I04] [nvarchar](2) NULL,
	[FECHA_I04] [smalldatetime] NULL,
	[UBICA_I04] [nvarchar](7) NULL,
	[CODMA_I04] [nvarchar](9) NULL,
	[SKINV_I04] [float] NULL,
	[PRECI_I04] [float] NULL,
	[IMPOR_I04] [float] NULL
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[MTI05]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MTI05](
	[IDCAB_I05] [int] IDENTITY(1,1) NOT FOR REPLICATION NOT NULL,
	[VOUCH_I05] [char](12) NULL,
	[FEREG_I05] [datetime] NULL,
	[PERIO_I05] [char](7) NULL,
	[NUORD_I05] [varchar](16) NULL,
	[FECHA_I05] [datetime] NULL,
	[PEDID_I05] [varchar](50) NULL,
	[OBSER_I05] [varchar](100) NULL,
	[FLAUT_I05] [char](1) NULL,
	[LOCAL_I05] [char](2) NULL,
	[MONED_I05] [varchar](20) NULL,
	[TIODC_I05] [varchar](3) NULL,
	[AREAS_I05] [varchar](20) NULL,
	[OLDNO_I05] [varchar](16) NULL,
 CONSTRAINT [PK_MTI05] PRIMARY KEY CLUSTERED 
(
	[IDCAB_I05] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[MTI06]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MTI06](
	[IDDET_I06] [int] IDENTITY(1,1) NOT FOR REPLICATION NOT NULL,
	[IDCAB_I06] [int] NOT NULL,
	[DESMA_I06] [varchar](100) NULL,
	[CANTI_I06] [float] NULL,
	[UNIDA_I06] [varchar](10) NULL,
	[PRECI_I06] [float] NULL,
	[VALOR_I06] [float] NULL,
	[COSTO_I06] [char](8) NULL,
 CONSTRAINT [PK_MTI06] PRIMARY KEY CLUSTERED 
(
	[IDDET_I06] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[MTI09]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MTI09](
	[IDCAB_I09] [int] IDENTITY(1,1) NOT FOR REPLICATION NOT NULL,
	[PERIO_I09] [char](7) NULL,
	[LOCAL_I09] [char](2) NULL,
	[VOUCH_I09] [char](12) NULL,
	[NUODC_I09] [varchar](15) NULL,
	[FECHA_I09] [datetime] NULL,
	[MAEST_I09] [char](11) NULL,
	[DIREC_I09] [varchar](100) NULL,
	[TELEF_I09] [varchar](20) NULL,
	[FAX___I09] [varchar](20) NULL,
	[EMAIL_I09] [varchar](50) NULL,
	[TENTE_I09] [int] NULL,
	[PFACT_I09] [int] NULL,
	[FVENC_I09] [datetime] NULL,
	[REQUE_I09] [varchar](8) NULL,
	[COTIZ_I09] [varchar](50) NULL,
	[OBSER_I09] [varchar](300) NULL,
	[MONED_I09] [varchar](20) NULL,
	[SUBTO_I09] [float] NULL,
	[IGV___I09] [float] NULL,
	[TOTAL_I09] [float] NULL,
	[FSOLI_I09] [datetime] NULL,
	[PEDID_I09] [varchar](50) NULL,
	[FEREG_I09] [datetime] NULL,
	[ELABO_I09] [varchar](50) NULL,
	[FLAUT_I09] [char](1) NULL,
	[FAPRO_I09] [datetime] NULL,
	[APROB_I09] [varchar](50) NULL,
	[FRECE_I09] [datetime] NULL,
	[RECIB_I09] [varchar](50) NULL,
	[NUVEH_I09] [varchar](50) NULL,
	[TIPOC_I09] [char](2) NULL,
	[USUAR_I09] [varchar](25) NULL,
	[PROAL_I09] [bit] NULL,
	[IDPRA_I09] [float] NULL,
	[RTCOT_I09] [varchar](250) NULL,
	[FLAPR_I09] [bit] NULL,
	[OPERA_I09] [char](40) NULL,
	[TIDOC_I09] [char](50) NULL,
	[AFIGV_I09] [varchar](2) NULL,
	[TIODC_I09] [varchar](2) NULL,
	[PUEST_I09] [varchar](100) NULL,
	[NUDOC_I09] [varchar](20) NULL,
	[OLDNO_I09] [varchar](15) NULL,
 CONSTRAINT [PK_MTI09] PRIMARY KEY CLUSTERED 
(
	[IDCAB_I09] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[MTI10]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MTI10](
	[IDDET_I10] [int] IDENTITY(1,1) NOT FOR REPLICATION NOT NULL,
	[IDCAB_I10] [int] NOT NULL,
	[DESMA_I10] [varchar](100) NULL,
	[CANTI_I10] [float] NULL,
	[UNIDA_I10] [varchar](10) NULL,
	[PRECI_I10] [float] NULL,
	[VALOR_I10] [float] NULL,
	[COSTO_I10] [char](8) NULL,
	[REFER_I10] [int] NULL,
	[CODMA_I10] [char](9) NULL,
 CONSTRAINT [PK_MTI10] PRIMARY KEY CLUSTERED 
(
	[IDDET_I10] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[MTI11]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MTI11](
	[IDDET_I11] [int] IDENTITY(1,1) NOT FOR REPLICATION NOT NULL,
	[IDCAB_I11] [int] NULL,
	[STATU_I11] [varchar](50) NULL,
	[FECHA_I11] [datetime] NULL,
	[HORA__I11] [datetime] NULL,
	[USUAR_I11] [varchar](50) NULL,
	[USER__I11] [varchar](50) NULL,
	[COMPU_I11] [varchar](50) NULL,
	[COMEN_I11] [varchar](100) NULL,
 CONSTRAINT [PK_MTI11] PRIMARY KEY CLUSTERED 
(
	[IDDET_I11] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[MTI12]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MTI12](
	[IDDET_I12] [int] IDENTITY(1,1) NOT FOR REPLICATION NOT NULL,
	[IDCAB_I12] [int] NULL,
	[STATU_I12] [varchar](50) NULL,
	[FECHA_I12] [datetime] NULL,
	[HORA__I12] [datetime] NULL,
	[USUAR_I12] [varchar](50) NULL,
	[USER__I12] [varchar](50) NULL,
	[COMPU_I12] [varchar](50) NULL,
	[COMEN_I12] [varchar](100) NULL,
 CONSTRAINT [PK_MTI12] PRIMARY KEY CLUSTERED 
(
	[IDDET_I12] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[MTR01]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MTR01](
	[EMPRE_R01] [char](2) NULL,
	[LOCAL_R01] [char](2) NULL,
	[PERIO_R01] [char](7) NULL,
	[FECHA_R01] [datetime] NULL,
	[CODMA_R01] [char](9) NULL,
	[PRECI_R01] [float] NULL,
	[REFER_R01] [varchar](20) NULL
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[mtR0105]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[mtR0105](
	[EMPRE_I01] [nvarchar](2) NULL,
	[NUMES_I01] [float] NULL,
	[LOCAL_I01] [nvarchar](5) NULL,
	[SUBDI_I01] [nvarchar](4) NULL,
	[NUFIL_I01] [float] NULL,
	[OPERA_I01] [nvarchar](2) NULL,
	[NUCOM_I01] [float] NULL,
	[NUDIA_I01] [float] NULL,
	[MONED_I01] [nvarchar](1) NULL,
	[TICAM_I01] [float] NULL,
	[GLOSA_I01] [nvarchar](40) NULL,
	[MAEST_I01] [nvarchar](11) NULL,
	[TIDOC_I01] [nvarchar](5) NULL,
	[NUDOC_I01] [nvarchar](6) NULL,
	[FEDOC_I01] [smalldatetime] NULL,
	[FEVEN_I01] [smalldatetime] NULL,
	[DEBIT_I01] [float] NULL,
	[CREDI_I01] [float] NULL,
	[SITUA_I01] [nvarchar](1) NULL,
	[MAYOR_I01] [nvarchar](1) NULL,
	[USUAR_I01] [nvarchar](8) NULL,
	[ANULA_I01] [nvarchar](1) NULL,
	[NAOPE_I01] [nvarchar](1) NULL,
	[ESDOC_I01] [nvarchar](1) NULL,
	[FEREN_I01] [smalldatetime] NULL,
	[GLFIN_I01] [nvarchar](15) NULL
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[mtR0205]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[mtR0205](
	[EMPRE_I02] [nvarchar](2) NULL,
	[NUMES_I02] [float] NULL,
	[LOCAL_I02] [nvarchar](5) NULL,
	[SUBDI_I02] [nvarchar](4) NULL,
	[NUFIL_I02] [float] NULL,
	[OPERA_I02] [nvarchar](2) NULL,
	[NUCOM_I02] [float] NULL,
	[NUDIA_I02] [float] NULL,
	[MONED_I02] [nvarchar](1) NULL,
	[TICAM_I02] [float] NULL,
	[CUENT_I02] [nvarchar](8) NULL,
	[COSTO_I02] [nvarchar](5) NULL,
	[MAEST_I02] [nvarchar](11) NULL,
	[DEFEC_I02] [float] NULL,
	[SOLES_I02] [float] NULL,
	[DOLAR_I02] [float] NULL,
	[FEVEN_I02] [smalldatetime] NULL,
	[NUREG_I02] [nvarchar](6) NULL,
	[NUDOC_I02] [nvarchar](6) NULL,
	[TIDOC_I02] [nvarchar](5) NULL,
	[FEDOC_I02] [smalldatetime] NULL,
	[FECON_I02] [smalldatetime] NULL,
	[MAYOR_I02] [nvarchar](1) NULL,
	[TIMAT_I02] [nvarchar](3) NULL
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[mtR0305]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[mtR0305](
	[EMPRE_I01] [nvarchar](2) NULL,
	[CODSE_I01] [nvarchar](5) NULL,
	[NUMES_I01] [nvarchar](2) NULL,
	[TIPDO_I01] [nvarchar](5) NULL,
	[NUFIL_I01] [nvarchar](4) NULL,
	[NUVAL_I01] [nvarchar](6) NULL,
	[FECHA_I01] [smalldatetime] NULL,
	[TIPRE_I01] [nvarchar](5) NULL,
	[NUREL_I01] [nvarchar](6) NULL,
	[OBSER_I01] [nvarchar](60) NULL,
	[DESPA_I01] [nvarchar](35) NULL,
	[USOVA_I01] [nvarchar](35) NULL,
	[ANULA_I01] [bit] NOT NULL,
	[TICAM_I01] [float] NULL,
	[MONED_I01] [nvarchar](1) NULL,
	[SIVAL_I01] [nvarchar](1) NULL,
	[CODUS_I01] [nvarchar](8) NULL,
	[NOREP_I01] [bit] NOT NULL,
	[NFACT_I01] [nvarchar](27) NULL,
	[TRANS_I01] [nvarchar](1) NULL,
	[DESTI_I01] [nvarchar](2) NULL
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[mtR0405]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[mtR0405](
	[EMPRE_I02] [nvarchar](2) NULL,
	[CODSE_I02] [nvarchar](5) NULL,
	[NUMES_I02] [nvarchar](2) NULL,
	[TIPDO_I02] [nvarchar](5) NULL,
	[NUFIL_I02] [nvarchar](4) NULL,
	[NUVAL_I02] [nvarchar](6) NULL,
	[NUITE_I02] [nvarchar](3) NULL,
	[FECHA_I02] [smalldatetime] NULL,
	[CODAL_I02] [nvarchar](5) NULL,
	[CODMA_I02] [nvarchar](9) NULL,
	[CANTI_I02] [float] NULL,
	[CAMP2_I02] [nvarchar](8) NULL,
	[CAMP3_I02] [nvarchar](5) NULL,
	[CAMP4_I02] [nvarchar](11) NULL,
	[IMPSO_I02] [float] NULL,
	[IMPDO_I02] [float] NULL,
	[TIPIM_I02] [nvarchar](1) NULL,
	[DSCTO_I02] [float] NULL,
	[ATEND_I02] [float] NULL,
	[PENDI_I02] [float] NULL,
	[TRANS_I02] [nvarchar](1) NULL
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[MTT01]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MTT01](
	[CODIG_T01] [varchar](2) NOT NULL,
	[DESCR_T01] [varchar](30) NULL
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[MTT02]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MTT02](
	[IDTIPO_T02] [varchar](2) NULL,
	[IDLOCAL_T02] [varchar](2) NULL,
	[DESCRI_T02] [varchar](30) NULL
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[MTT0305]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MTT0305](
	[EMPRE_T03] [char](2) NULL,
	[CODIG_T03] [char](8) NULL,
	[DESCR_T03] [char](60) NULL
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[MTT04]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MTT04](
	[CODIG_T04] [varchar](2) NOT NULL,
	[DESCR_T04] [varchar](50) NULL,
	[ABREV_T04] [varchar](2) NULL
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[MTT05]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MTT05](
	[CODIG_T05] [varchar](2) NOT NULL,
	[DESCR_T05] [varchar](50) NULL,
	[ABREV_T05] [varchar](50) NULL,
 CONSTRAINT [PK_MTT05] PRIMARY KEY CLUSTERED 
(
	[CODIG_T05] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[MTT07]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MTT07](
	[CODIG_T07] [varchar](2) NOT NULL,
	[DESCR_T07] [varchar](50) NULL,
	[ABREV_T07] [varchar](2) NULL,
 CONSTRAINT [PK_MTT07] PRIMARY KEY CLUSTERED 
(
	[CODIG_T07] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[MTT08]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MTT08](
	[CODIG_T08] [varchar](3) NOT NULL,
	[DESCR_T08] [varchar](50) NULL,
	[ABREV_T08] [varchar](20) NULL,
 CONSTRAINT [PK_MTT08] PRIMARY KEY CLUSTERED 
(
	[CODIG_T08] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[MTT09]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MTT09](
	[CODIG_T09] [varchar](2) NOT NULL,
	[DESCR_T09] [varchar](200) NULL,
	[ABREV_T09] [varchar](20) NULL,
 CONSTRAINT [PK_MTT09] PRIMARY KEY CLUSTERED 
(
	[CODIG_T09] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[MTT10]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MTT10](
	[CODIG_T10] [varchar](2) NOT NULL,
	[DESCR_T10] [varchar](50) NULL,
	[ABREV_T10] [varchar](20) NULL,
 CONSTRAINT [PK_MTT10] PRIMARY KEY CLUSTERED 
(
	[CODIG_T10] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[MTT11]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MTT11](
	[CODIG_T11] [varchar](2) NOT NULL,
	[DESCR_T11] [varchar](50) NULL,
	[ABREV_T11] [varchar](20) NULL,
 CONSTRAINT [PK_MTT11] PRIMARY KEY CLUSTERED 
(
	[CODIG_T11] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[MTT12]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MTT12](
	[CODIG_T12] [varchar](2) NOT NULL,
	[DESCR_T12] [varchar](50) NULL,
	[ABREV_T12] [varchar](20) NULL,
 CONSTRAINT [PK_MTT12] PRIMARY KEY CLUSTERED 
(
	[CODIG_T12] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[MTT13]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MTT13](
	[CODIG_T13] [varchar](2) NOT NULL,
	[DESCR_T13] [varchar](50) NULL,
	[ABREV_T13] [varchar](20) NULL,
 CONSTRAINT [PK_MTT13] PRIMARY KEY CLUSTERED 
(
	[CODIG_T13] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[MTW01]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MTW01](
	[TIPOM_TMP] [char](1) NULL,
	[FECHA_TMP] [datetime] NULL,
	[SEGUI_TMP] [char](4) NULL,
	[NUGUI_TMP] [char](8) NULL,
	[SEDOC_TMP] [char](4) NULL,
	[NUDOC_TMP] [varchar](25) NULL,
	[CODMA_TMP] [char](9) NULL,
	[DESCR_TMP] [varchar](100) NULL,
	[MAEST_TMP] [char](11) NULL,
	[NOMBR_TMP] [char](50) NULL,
	[INGRE_TMP] [float] NULL,
	[EGRES_TMP] [float] NULL,
	[COSTO_TMP] [char](8) NULL,
	[REFER_TMP] [varchar](100) NULL,
	[PRECI_TMP] [float] NULL,
	[VALOR_TMP] [float] NULL,
	[VOUCH_TMP] [char](12) NULL,
	[OPERA_TMP] [char](40) NULL,
	[IDCAB_TMP] [int] NULL,
	[TICAM_TMP] [float] NULL,
	[MONED_TMP] [char](12) NULL
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[MTW02]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MTW02](
	[CODAL_W02] [char](5) NULL,
	[CLASE_W02] [char](4) NULL,
	[CODMA_W02] [char](9) NULL,
	[DESMA_W02] [varchar](100) NULL,
	[SALDO_W02] [float] NULL,
	[PRECI_W02] [float] NULL,
	[VALOR_W02] [float] NULL,
	[USUAR_W02] [varchar](50) NULL,
	[COMPU_W02] [varchar](50) NULL
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[MTW03]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MTW03](
	[EMPRE_TMP] [char](2) NULL,
	[LOCAL_TMP] [char](2) NULL,
	[FEDOC_TMP] [datetime] NULL,
	[CODMA_TMP] [char](9) NULL,
	[CANTI_TMP] [float] NULL,
	[PRECI_TMP] [float] NULL,
	[SOLES_TMP] [float] NULL,
	[ABREV_TMP] [char](20) NULL,
	[DESCR_TMP] [varchar](100) NULL,
	[ABRE2_TMP] [char](8) NULL,
	[DESMA_TMP] [char](50) NULL,
	[UNIDA_TMP] [char](25) NULL,
	[CDITE_TMP] [char](4) NULL,
	[DSITE_TMP] [char](50) NULL
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[MTW04]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MTW04](
	[LOCAL_TMP] [char](2) NOT NULL,
	[CLASE_TMP] [char](4) NOT NULL,
	[CODMA_TMP] [char](9) NOT NULL,
	[DESMA_TMP] [varchar](100) NULL,
	[SDANT_TMP] [float] NULL,
	[PRANT_TMP] [float] NULL,
	[INGRE_TMP] [float] NULL,
	[PRING_TMP] [float] NULL,
	[SALID_TMP] [float] NULL,
	[PRSAL_TMP] [float] NULL,
	[SDFIN_TMP] [float] NULL,
	[PRFIN_TMP] [float] NULL,
	[SDCAL_TMP] [float] NULL,
	[DIFER_TMP] [float] NULL,
	[VASAL_TMP] [float] NULL,
	[CLSN1_TMP] [varchar](2) NULL,
	[CLSN2_TMP] [varchar](3) NULL,
	[VAING_TMP] [float] NULL,
	[CODAL_TMP] [varchar](5) NULL,
	[SDAN1_TMP] [float] NULL,
	[PRAN1_TMP] [float] NULL,
	[INGR1_TMP] [float] NULL,
	[PRIN1_TMP] [float] NULL,
	[SALI1_TMP] [float] NULL,
	[PRSA1_TMP] [float] NULL,
	[SDFI1_TMP] [float] NULL,
	[PRFI1_TMP] [float] NULL,
	[VASA1_TMP] [float] NULL,
	[VAANT_TMP] [float] NULL,
	[VAFIN_TMP] [float] NULL,
	[USUAR_TMP] [varchar](50) NULL,
	[COMPU_TMP] [varchar](50) NULL,
 CONSTRAINT [PK_MTW04] PRIMARY KEY CLUSTERED 
(
	[LOCAL_TMP] ASC,
	[CLASE_TMP] ASC,
	[CODMA_TMP] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[MTW05]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MTW05](
	[USUAR_W05] [varchar](50) NULL,
	[LOCAL_W05] [char](2) NULL,
	[CODAL_W05] [char](5) NULL,
	[CODMA_W05] [char](9) NULL,
	[DESMA_W05] [varchar](100) NULL,
	[TIMOV_W05] [char](1) NULL,
	[VOUCH_W05] [char](12) NULL,
	[CANTI_W05] [float] NULL,
	[PRECI_W05] [float] NULL,
	[SOLES_W05] [float] NULL,
	[DOLAR_W05] [float] NULL,
	[MONED_W05] [char](1) NULL,
	[OBSER_W05] [varchar](100) NULL,
	[REFER_W05] [varchar](100) NULL,
	[SDANT_W05] [float] NULL,
	[COMPU_W05] [varchar](50) NULL,
	[FECHA_W05] [datetime] NULL
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[MTW06]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MTW06](
	[CODMA_W06] [char](9) NULL,
	[DESMA_W06] [varchar](100) NULL,
	[PERIO_W06] [char](7) NULL,
	[MONED_W06] [varchar](20) NULL,
	[PRECI_W06] [float] NULL,
	[USUAR_W06] [varchar](25) NULL
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[MTW10]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MTW10](
	[IDCAB_W10] [int] IDENTITY(1,1) NOT FOR REPLICATION NOT NULL,
	[CODMA_W10] [varchar](9) NOT NULL,
	[LOCAL_W10] [varchar](2) NOT NULL,
	[FEDOC_W10] [datetime] NOT NULL,
	[TIVOU_W10] [varchar](15) NOT NULL,
	[VOUCH_W10] [varchar](12) NOT NULL,
	[PERIO_W10] [varchar](7) NULL,
	[MONED_W10] [varchar](12) NULL,
	[TICAM_W10] [float] NULL,
	[MAEST_W10] [varchar](11) NULL,
	[SEGUI_W10] [varchar](4) NULL,
	[NUGUI_W10] [varchar](8) NULL,
	[FEGUI_W10] [datetime] NULL,
	[TIDOC_W10] [varchar](2) NULL,
	[SEDOC_W10] [varchar](4) NULL,
	[NUDOC_W10] [varchar](25) NULL,
	[TSOLE_W10] [float] NULL,
	[TDOLA_W10] [float] NULL,
	[OBSER_W10] [varchar](100) NULL,
	[USUAR_W10] [varchar](15) NULL,
	[COMPU_W10] [varchar](15) NULL,
	[COSTO_W10] [varchar](8) NULL,
	[CANTI_W10] [float] NULL,
	[PRECI_W10] [float] NULL,
	[SOLES_W10] [float] NULL,
	[DOLAR_W10] [float] NULL,
	[REFER_W10] [varchar](50) NULL,
	[NOMBR_W10] [varchar](50) NULL,
	[DESMA_W10] [varchar](100) NULL,
	[UNIDA_W10] [varchar](20) NULL,
	[TIREG_W10] [varchar](1) NULL,
	[OPERA_W10] [varchar](40) NULL,
	[SDCAN_W10] [float] NULL,
	[SDPRE_W10] [float] NULL,
	[SDSOL_W10] [float] NULL,
	[FLDET_W10] [varchar](1) NULL,
	[IDDET_W10] [int] NULL,
	[CODAL_W10] [varchar](5) NULL,
 CONSTRAINT [PK_MTW10] PRIMARY KEY CLUSTERED 
(
	[IDCAB_W10] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[MTW11]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MTW11](
	[IDCAB_W11] [int] IDENTITY(1,1) NOT FOR REPLICATION NOT NULL,
	[CODMA_W11] [varchar](9) NOT NULL,
	[LOCAL_W11] [varchar](2) NULL,
	[FEDOC_W11] [datetime] NULL,
	[TIVOU_W11] [varchar](15) NULL,
	[VOUCH_W11] [varchar](12) NULL,
	[PERIO_W11] [varchar](7) NULL,
	[MONED_W11] [varchar](12) NULL,
	[TICAM_W11] [float] NULL,
	[MAEST_W11] [varchar](11) NULL,
	[SEGUI_W11] [varchar](4) NULL,
	[NUGUI_W11] [varchar](8) NULL,
	[FEGUI_W11] [datetime] NULL,
	[TIDOC_W11] [varchar](2) NULL,
	[SEDOC_W11] [varchar](4) NULL,
	[NUDOC_W11] [varchar](8) NULL,
	[TSOLE_W11] [float] NULL,
	[TDOLA_W11] [float] NULL,
	[OBSER_W11] [varchar](100) NULL,
	[USUAR_W11] [varchar](15) NULL,
	[COMPU_W11] [varchar](15) NULL,
	[COSTO_W11] [varchar](8) NULL,
	[CANTI_W11] [float] NULL,
	[PRECI_W11] [float] NULL,
	[SOLES_W11] [float] NULL,
	[DOLAR_W11] [float] NULL,
	[REFER_W11] [varchar](50) NULL,
	[NOMBR_W11] [varchar](50) NULL,
	[DESMA_W11] [varchar](100) NULL,
	[UNIDA_W11] [varchar](25) NULL,
	[TIREG_W11] [varchar](1) NULL,
	[OPERA_W11] [varchar](40) NULL,
	[SDCAN_W11] [float] NULL,
	[SDPRE_W11] [float] NULL,
	[SDSOL_W11] [float] NULL,
	[FLDET_W11] [varchar](1) NULL,
	[IDDET_W11] [int] NULL,
 CONSTRAINT [PK_MTW11] PRIMARY KEY CLUSTERED 
(
	[IDCAB_W11] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[MTW12]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MTW12](
	[LOCAL_W12] [varchar](2) NULL,
	[CLSN1_W12] [varchar](2) NULL,
	[DSCL1_W12] [varchar](100) NULL,
	[CLSN2_W12] [varchar](3) NULL,
	[DSCL2_W12] [varchar](100) NULL,
	[CLASE_W12] [varchar](4) NOT NULL,
	[DSCLA_W12] [varchar](100) NULL,
	[CODMA_W12] [varchar](9) NOT NULL,
	[DESMA_W12] [varchar](100) NULL,
	[SDANT_W12] [float] NULL,
	[PRANT_W12] [float] NULL,
	[VLANT_W12] [float] NULL,
	[UFECP_W12] [datetime] NULL,
	[NUDOC_W12] [varchar](50) NULL,
	[UFESA_W12] [datetime] NULL,
	[USUAR_W12] [varchar](50) NULL,
	[COMPU_W12] [varchar](50) NULL
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[MTW13]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MTW13](
	[LOCAL_W13] [varchar](2) NULL,
	[CODMA_W13] [varchar](9) NOT NULL,
	[DESMA_W13] [varchar](100) NULL,
	[UFECP_W13] [datetime] NULL,
	[NUDOC_W13] [varchar](50) NULL,
	[UFESA_W13] [datetime] NULL,
	[USUAR_W13] [varchar](50) NULL,
	[COMPU_W13] [varchar](50) NULL
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[MTW14]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MTW14](
	[TIPOM_W14] [varchar](50) NOT NULL,
	[SERDO_W14] [varchar](4) NOT NULL,
	[NUDOC_W14] [varchar](50) NOT NULL,
	[FEDOC_W14] [datetime] NULL,
	[VOSAL_W14] [varchar](50) NULL,
	[SOSAL_W14] [float] NULL,
	[VOING_W14] [varchar](50) NULL,
	[SOING_W14] [float] NULL,
	[DIFER_W14] [float] NULL,
	[USUAR_W14] [varchar](50) NULL,
	[COMPU_W14] [varchar](50) NULL
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[MTW15]    Script Date: 18/02/2023 19:51:29 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[MTW15](
	[IDCAB_W15] [int] IDENTITY(1,1) NOT NULL,
	[AREAS_W15] [varchar](50) NULL,
	[SOLIC_W15] [varchar](50) NULL,
	[REQUE_W15] [varchar](50) NULL,
	[CODMA_W15] [varchar](50) NULL,
	[DESMA_W15] [varchar](200) NULL,
	[FEREC_W15] [datetime] NULL,
	[CANSO_W15] [float] NULL,
	[CANOC_W15] [float] NULL,
	[CANRE_W15] [float] NULL,
	[UNIDA_W15] [varchar](50) NULL,
	[NOARE_W15] [varchar](200) NULL,
	[USUAR_W15] [varchar](50) NULL,
	[COMPU_W15] [varchar](50) NULL,
	[USER__W15] [varchar](50) NULL,
 CONSTRAINT [PK_MTW15] PRIMARY KEY CLUSTERED 
(
	[IDCAB_W15] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
ALTER TABLE [dbo].[MTI0105] ADD  CONSTRAINT [DF_MTI0105_TICAM_I01]  DEFAULT (0) FOR [TICAM_I01]
GO
ALTER TABLE [dbo].[MTI0105] ADD  CONSTRAINT [DF_MTI0105_IDPRO_I01]  DEFAULT (0) FOR [IDPRO_I01]
GO
ALTER TABLE [dbo].[MTI0105] ADD  CONSTRAINT [DF_MTI0105_INGPA_I01]  DEFAULT ('N') FOR [INGPA_I01]
GO
ALTER TABLE [dbo].[MTI0105] ADD  CONSTRAINT [DF_MTI0105_PRING_I01]  DEFAULT ('N') FOR [PRING_I01]
GO
ALTER TABLE [dbo].[MTI0105] ADD  CONSTRAINT [DF_MTI0105_CANTI_I01]  DEFAULT (0) FOR [CANTI_I01]
GO
ALTER TABLE [dbo].[MTI0105] ADD  CONSTRAINT [DF_MTI0105_IDOPA_I01]  DEFAULT (0) FOR [IDOPA_I01]
GO
ALTER TABLE [dbo].[MTI0105] ADD  CONSTRAINT [DF_MTI0105_PFACT_I01]  DEFAULT (0) FOR [PFACT_I01]
GO
ALTER TABLE [dbo].[MTI0105] ADD  CONSTRAINT [DF_MTI0105_CANCE_I01]  DEFAULT ('N') FOR [CANCE_I01]
GO
ALTER TABLE [dbo].[MTI0105] ADD  CONSTRAINT [DF_MTI0105_TIPOC_I01]  DEFAULT (' ') FOR [TIPOC_I01]
GO
ALTER TABLE [dbo].[MTI0105] ADD  CONSTRAINT [DF_MTI0105_NUODC_I01]  DEFAULT (' ') FOR [NUODC_I01]
GO
ALTER TABLE [dbo].[MTI0105] ADD  CONSTRAINT [DF_MTI0105_FLDET_I01]  DEFAULT (0) FOR [FLDET_I01]
GO
ALTER TABLE [dbo].[MTI0105] ADD  CONSTRAINT [DF_MTI0105_CDDET_I01]  DEFAULT (' ') FOR [CDDET_I01]
GO
ALTER TABLE [dbo].[MTI0105] ADD  CONSTRAINT [DF_MTI0105_POIGV_I01]  DEFAULT (0.19) FOR [POIGV_I01]
GO
ALTER TABLE [dbo].[MTI0105] ADD  CONSTRAINT [DF_MTI0105_SEDED_I01]  DEFAULT (' ') FOR [SEDED_I01]
GO
ALTER TABLE [dbo].[MTI0105] ADD  CONSTRAINT [DF_MTI0105_SEDEO_I01]  DEFAULT (' ') FOR [SEDEO_I01]
GO
ALTER TABLE [dbo].[MTI0105] ADD  CONSTRAINT [DF_MTI0105_IDODC_I01]  DEFAULT (0) FOR [IDODC_I01]
GO
ALTER TABLE [dbo].[MTI0105] ADD  CONSTRAINT [DF_MTI0105_IDODR_I01]  DEFAULT (0) FOR [IDODR_I01]
GO
ALTER TABLE [dbo].[MTI0105] ADD  CONSTRAINT [DF_MTI0105_IDOXS_I01]  DEFAULT (0) FOR [IDOXF_I01]
GO
ALTER TABLE [dbo].[MTI0105] ADD  CONSTRAINT [DF_MTI0105_VOUCO_I01]  DEFAULT (' ') FOR [VOUCO_I01]
GO
ALTER TABLE [dbo].[MTI0105] ADD  CONSTRAINT [DF_MTI0105_TRATA_I01]  DEFAULT (' ') FOR [TRATA_I01]
GO
ALTER TABLE [dbo].[MTI0105] ADD  CONSTRAINT [DF_MTI0105_FLOEC_I01]  DEFAULT (0) FOR [FLOEC_I01]
GO
ALTER TABLE [dbo].[MTI0105] ADD  CONSTRAINT [DF_MTI0105_NUOEC_I01]  DEFAULT (' ') FOR [NUOEC_I01]
GO
ALTER TABLE [dbo].[MTI0105] ADD  CONSTRAINT [DF_MTI0105_FLOTT_I01]  DEFAULT (0) FOR [FLOTT_I01]
GO
ALTER TABLE [dbo].[MTI0105] ADD  CONSTRAINT [DF_MTI0105_FLGTD_I01]  DEFAULT (0) FOR [FLGTD_I01]
GO
ALTER TABLE [dbo].[MTI0105] ADD  CONSTRAINT [DF_MTI0105_NUOTT_I01]  DEFAULT (' ') FOR [NUOTT_I01]
GO
ALTER TABLE [dbo].[MTI0205] ADD  CONSTRAINT [DF_MTI0205_CANTI_I02]  DEFAULT (0) FOR [CANTI_I02]
GO
ALTER TABLE [dbo].[MTI0205] ADD  CONSTRAINT [DF_MTI0205_PRECI_I02]  DEFAULT (0) FOR [PRECI_I02]
GO
ALTER TABLE [dbo].[MTI0205] ADD  CONSTRAINT [DF_MTI0205_SOLES_I02]  DEFAULT (0) FOR [SOLES_I02]
GO
ALTER TABLE [dbo].[MTI0205] ADD  CONSTRAINT [DF_MTI0205_DOLAR_I02]  DEFAULT (0) FOR [DOLAR_I02]
GO
ALTER TABLE [dbo].[MTI0205] ADD  CONSTRAINT [DF_MTI0205_DSCTO_I02]  DEFAULT (0) FOR [DSCTO_I02]
GO
ALTER TABLE [dbo].[MTI0205] ADD  CONSTRAINT [DF_MTI0205_CANRE_I02]  DEFAULT (0) FOR [CANRE_I02]
GO
ALTER TABLE [dbo].[MTI0205] ADD  CONSTRAINT [DF_MTI0205_CANPE_I02]  DEFAULT (0) FOR [CANPE_I02]
GO
ALTER TABLE [dbo].[MTI0205] ADD  CONSTRAINT [DF_MTI0205_LOTE__i02]  DEFAULT (' ') FOR [LOTE__i02]
GO
ALTER TABLE [dbo].[MTI0205] ADD  CONSTRAINT [DF_MTI0205_REFER_I02]  DEFAULT (' ') FOR [REFER_I02]
GO
ALTER TABLE [dbo].[MTI0205] ADD  CONSTRAINT [DF_MTI0205_IDOCD_I02]  DEFAULT (0) FOR [IDODC_I02]
GO
ALTER TABLE [dbo].[MTI0205] ADD  CONSTRAINT [DF_MTI0205_IDODR_I02]  DEFAULT (0) FOR [IDODR_I02]
GO
ALTER TABLE [dbo].[MTI0205] ADD  CONSTRAINT [DF_MTI0205_ITMOR_I02]  DEFAULT (' ') FOR [ITMOR_I02]
GO
ALTER TABLE [dbo].[MTI0205] ADD  CONSTRAINT [DF_MTI0205_ITEM__I02]  DEFAULT (' ') FOR [ITEM__I02]
GO
ALTER TABLE [dbo].[MTI0205] ADD  CONSTRAINT [DF_MTI0205_TRATA_I02]  DEFAULT (' ') FOR [TRATA_I02]
GO
ALTER TABLE [dbo].[MTI03] ADD  CONSTRAINT [DF_MTI03_VOUCH_I03]  DEFAULT (' ') FOR [VOUCH_I03]
GO
ALTER TABLE [dbo].[MTI03] ADD  CONSTRAINT [DF_MTI03_PERIO_I03]  DEFAULT (' ') FOR [PERIO_I03]
GO
ALTER TABLE [dbo].[MTI03] ADD  CONSTRAINT [DF_MTI03_NUREQ_I03]  DEFAULT (' ') FOR [NUREQ_I03]
GO
ALTER TABLE [dbo].[MTI03] ADD  CONSTRAINT [DF_MTI03_PEDID_I03]  DEFAULT (' ') FOR [PEDID_I03]
GO
ALTER TABLE [dbo].[MTI03] ADD  CONSTRAINT [DF_MTI03_OBSER_I03]  DEFAULT (' ') FOR [OBSER_I03]
GO
ALTER TABLE [dbo].[MTI03] ADD  CONSTRAINT [DF_MTI03_FLAUT_I03]  DEFAULT ('N') FOR [FLAUT_I03]
GO
ALTER TABLE [dbo].[MTI03] ADD  CONSTRAINT [DF_MTI03_LOCAL_I03]  DEFAULT (' ') FOR [LOCAL_I03]
GO
ALTER TABLE [dbo].[MTI03] ADD  CONSTRAINT [DF_MTI03_AREAS_I03]  DEFAULT (' ') FOR [AREAS_I03]
GO
ALTER TABLE [dbo].[MTI03] ADD  CONSTRAINT [DF_MTI03_TIODC_I03]  DEFAULT (' ') FOR [TIODC_I03]
GO
ALTER TABLE [dbo].[MTI03] ADD  CONSTRAINT [DF_MTI03_OLDNO_I03]  DEFAULT (' ') FOR [OLDNO_I03]
GO
ALTER TABLE [dbo].[MTI03] ADD  CONSTRAINT [DF_MTI03_STATU_I03]  DEFAULT (' ') FOR [STATU_I03]
GO
ALTER TABLE [dbo].[MTI03] ADD  CONSTRAINT [DF_MTI03_FLAU1_I03]  DEFAULT (0) FOR [FLAU1_I03]
GO
ALTER TABLE [dbo].[MTI03] ADD  CONSTRAINT [DF_MTI03_AUTO1_I03]  DEFAULT (' ') FOR [AUTO1_I03]
GO
ALTER TABLE [dbo].[MTI03] ADD  CONSTRAINT [DF_MTI03_FLAU2_I03]  DEFAULT (0) FOR [FLAU2_I03]
GO
ALTER TABLE [dbo].[MTI03] ADD  CONSTRAINT [DF_MTI03_AUTO2_I03]  DEFAULT (' ') FOR [AUTO2_I03]
GO
ALTER TABLE [dbo].[MTI03] ADD  CONSTRAINT [DF_MTI03_OLDAR_I03]  DEFAULT (' ') FOR [OLDAR_I03]
GO
ALTER TABLE [dbo].[MTI03] ADD  CONSTRAINT [DF_MTI03_OLDPE_I03]  DEFAULT (' ') FOR [OLDPE_I03]
GO
ALTER TABLE [dbo].[MTI03] ADD  CONSTRAINT [DF_MTI03_FLAPRO_O03]  DEFAULT (0) FOR [FLAPR_I03]
GO
ALTER TABLE [dbo].[MTI03] ADD  CONSTRAINT [DF_MTI03_USUAR_I03]  DEFAULT (' ') FOR [USUAR_I03]
GO
ALTER TABLE [dbo].[MTI03] ADD  CONSTRAINT [DF_MTI03_CLREQ_I03]  DEFAULT (' ') FOR [CLREQ_I03]
GO
ALTER TABLE [dbo].[MTI03] ADD  CONSTRAINT [DF_MTI03_PROMT_I03]  DEFAULT (0) FOR [PROMT_I03]
GO
ALTER TABLE [dbo].[MTI03] ADD  CONSTRAINT [DF_MTI03_PROLG_I03]  DEFAULT (0) FOR [PROLG_I03]
GO
ALTER TABLE [dbo].[MTI03] ADD  CONSTRAINT [DF_MTI03_IDPMT_I03]  DEFAULT (0) FOR [IDPMT_I03]
GO
ALTER TABLE [dbo].[MTI03] ADD  CONSTRAINT [DF_MTI03_IDPLG_I03]  DEFAULT (0) FOR [IDPLG_I03]
GO
ALTER TABLE [dbo].[MTI03] ADD  CONSTRAINT [DF_MTI03_PRIOR_T03]  DEFAULT (' ') FOR [PRIOR_I03]
GO
ALTER TABLE [dbo].[MTI03] ADD  CONSTRAINT [DF_MTI03_FLOEC_I03]  DEFAULT (0) FOR [FLOEC_I03]
GO
ALTER TABLE [dbo].[MTI03] ADD  CONSTRAINT [DF_MTI03_NUOEC_I03]  DEFAULT (' ') FOR [NUOEC_I03]
GO
ALTER TABLE [dbo].[MTI03] ADD  CONSTRAINT [DF_MTI03_FLAU3_I03]  DEFAULT (0) FOR [FLAU3_I03]
GO
ALTER TABLE [dbo].[MTI03] ADD  CONSTRAINT [DF_MTI03_AUTO3_I03]  DEFAULT (' ') FOR [AUTO3_I03]
GO
ALTER TABLE [dbo].[MTI03] ADD  CONSTRAINT [DF_MTI03_FLAU4_I03]  DEFAULT (0) FOR [FLAU4_I03]
GO
ALTER TABLE [dbo].[MTI03] ADD  CONSTRAINT [DF_MTI03_AUTO4_I03]  DEFAULT (' ') FOR [AUTO4_I03]
GO
ALTER TABLE [dbo].[MTI03] ADD  CONSTRAINT [DF_MTI03_FLOTT_I03]  DEFAULT (0) FOR [FLOTT_I03]
GO
ALTER TABLE [dbo].[MTI03] ADD  CONSTRAINT [DF_MTI03_FLGTD_I03]  DEFAULT (0) FOR [FLGTD_I03]
GO
ALTER TABLE [dbo].[MTI03] ADD  CONSTRAINT [DF_MTI03_NUOTT_I03]  DEFAULT (' ') FOR [NUOTT_I03]
GO
ALTER TABLE [dbo].[MTI04] ADD  CONSTRAINT [DF_MTI04_STOCK_I04]  DEFAULT (0) FOR [STOCK_I04]
GO
ALTER TABLE [dbo].[MTI04] ADD  CONSTRAINT [DF_MTI04_ITEM__I04]  DEFAULT (' ') FOR [ITEM__I04]
GO
ALTER TABLE [dbo].[MTI04] ADD  CONSTRAINT [DF_MTI04_CAATD_I04]  DEFAULT (0) FOR [CAATD_I04]
GO
ALTER TABLE [dbo].[MTI04] ADD  CONSTRAINT [DF_MTI04_FLATD_I04]  DEFAULT (0) FOR [FLATD_I04]
GO
ALTER TABLE [dbo].[MTI04] ADD  CONSTRAINT [DF_MTI04_FLCER_I04]  DEFAULT (0) FOR [FLCER_I04]
GO
ALTER TABLE [dbo].[MTI05] ADD  CONSTRAINT [DF_MTI05_VOUCH_I05]  DEFAULT (' ') FOR [VOUCH_I05]
GO
ALTER TABLE [dbo].[MTI05] ADD  CONSTRAINT [DF_MTI05_PERIO_I05]  DEFAULT (' ') FOR [PERIO_I05]
GO
ALTER TABLE [dbo].[MTI05] ADD  CONSTRAINT [DF_MTI05_FLAUT_I05]  DEFAULT ('N') FOR [FLAUT_I05]
GO
ALTER TABLE [dbo].[MTI05] ADD  CONSTRAINT [DF_MTI05_TIODC_I05]  DEFAULT (' ') FOR [TIODC_I05]
GO
ALTER TABLE [dbo].[MTI05] ADD  CONSTRAINT [DF_MTI05_AREAS_I05]  DEFAULT (' ') FOR [AREAS_I05]
GO
ALTER TABLE [dbo].[MTI06] ADD  CONSTRAINT [DF_MTI06_IDCAB_I06]  DEFAULT (0) FOR [IDCAB_I06]
GO
ALTER TABLE [dbo].[MTI06] ADD  CONSTRAINT [DF_MTI06_DESMA_I06]  DEFAULT (' ') FOR [DESMA_I06]
GO
ALTER TABLE [dbo].[MTI06] ADD  CONSTRAINT [DF_MTI06_CANTI_I06]  DEFAULT (0) FOR [CANTI_I06]
GO
ALTER TABLE [dbo].[MTI06] ADD  CONSTRAINT [DF_MTI06_UNIDA_I06]  DEFAULT (' ') FOR [UNIDA_I06]
GO
ALTER TABLE [dbo].[MTI06] ADD  CONSTRAINT [DF_MTI06_PRECI_I06]  DEFAULT (0) FOR [PRECI_I06]
GO
ALTER TABLE [dbo].[MTI06] ADD  CONSTRAINT [DF_MTI06_VALOR_I06]  DEFAULT (0) FOR [VALOR_I06]
GO
ALTER TABLE [dbo].[MTI06] ADD  CONSTRAINT [DF_MTI06_COSTO_I06]  DEFAULT (' ') FOR [COSTO_I06]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_PERIO_I07]  DEFAULT (' ') FOR [PERIO_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_LOCAL_I07]  DEFAULT (' ') FOR [LOCAL_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_VOUCH_I07]  DEFAULT (' ') FOR [VOUCH_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_NUODC_I07]  DEFAULT (' ') FOR [NUODC_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_MAEST_I07]  DEFAULT (' ') FOR [MAEST_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_DIREC_I07]  DEFAULT (' ') FOR [DIREC_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_TELEF_I07]  DEFAULT (' ') FOR [TELEF_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_FAX___I07]  DEFAULT (' ') FOR [FAX___I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_EMAIL_I07]  DEFAULT (' ') FOR [EMAIL_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_TENTE_I07]  DEFAULT (0) FOR [TENTE_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_PFACT_I07]  DEFAULT (0) FOR [PFACT_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_REQUE_I07]  DEFAULT (' ') FOR [REQUE_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_COTIZ_I07]  DEFAULT (' ') FOR [COTIZ_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_OBSER_I07]  DEFAULT (' ') FOR [OBSER_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_MONED_I07]  DEFAULT (' ') FOR [MONED_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_SUBTO_I07]  DEFAULT (0) FOR [SUBTO_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_IGV___I07]  DEFAULT (0) FOR [IGV___I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_TOTAL_I07]  DEFAULT (0) FOR [TOTAL_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_PEDID_I07]  DEFAULT (' ') FOR [PEDID_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_ELABO_I07]  DEFAULT (' ') FOR [ELABO_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_FLAUT_I07]  DEFAULT (' ') FOR [FLAUT_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_APROB_I07]  DEFAULT (' ') FOR [APROB_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_RECIB_I07]  DEFAULT (' ') FOR [RECIB_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_NUVEH_I07]  DEFAULT (' ') FOR [NUVEH_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_TIPOC_I07]  DEFAULT (' ') FOR [TIPOC_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_USUAR_I07]  DEFAULT (' ') FOR [USUAR_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_PROAL_I07]  DEFAULT (0) FOR [PROAL_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_IDPRA_I07]  DEFAULT (0) FOR [IDPRA_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_RTCOT_I07]  DEFAULT (' ') FOR [RTCOT_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_FLAPR_I07]  DEFAULT (0) FOR [FLAPR_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_OPERA_I07]  DEFAULT (' ') FOR [OPERA_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_TIDOC_I07]  DEFAULT (' ') FOR [TIDOC_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_AFIGV_I07]  DEFAULT ('01') FOR [AFIGV_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_TIODC_I07]  DEFAULT ('01') FOR [TIODC_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_PUEST_I07]  DEFAULT (' ') FOR [PUEST_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_NUDOC_I07]  DEFAULT (' ') FOR [NUDOC_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_OLDNO_I07]  DEFAULT (' ') FOR [OLDNO_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_FLATD_I07]  DEFAULT (0) FOR [FLATD_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_FLAU1_I07]  DEFAULT (0) FOR [FLAU1_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_AUTO1_I07]  DEFAULT (' ') FOR [AUTO1_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_FLAU2_I07]  DEFAULT (0) FOR [FLAU2_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_AUTO2_I07]  DEFAULT (' ') FOR [AUTO2_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_FLAU3_I07]  DEFAULT (0) FOR [FLAU3_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_AUTO3_I07]  DEFAULT (' ') FOR [AUTO3_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_NUREQ_I07]  DEFAULT (' ') FOR [NUREQ_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_STATU_I07]  DEFAULT (' ') FOR [STATU_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_FLOEC_I07]  DEFAULT (0) FOR [FLOEC_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_NUOEC_I07]  DEFAULT (' ') FOR [NUOEC_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_FLIMP_I07]  DEFAULT (0) FOR [FLIMP_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_FLOTT_I07]  DEFAULT (0) FOR [FLOTT_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_FLGTD_I07]  DEFAULT (0) FOR [FLGTD_I07]
GO
ALTER TABLE [dbo].[MTI07] ADD  CONSTRAINT [DF_MTI07_NUOTT_I07]  DEFAULT (' ') FOR [NUOTT_I07]
GO
ALTER TABLE [dbo].[MTI08] ADD  CONSTRAINT [DF_MTI08_IDCAB_I08]  DEFAULT (0) FOR [IDCAB_I08]
GO
ALTER TABLE [dbo].[MTI08] ADD  CONSTRAINT [DF_MTI08_DESMA_I08]  DEFAULT (' ') FOR [DESMA_I08]
GO
ALTER TABLE [dbo].[MTI08] ADD  CONSTRAINT [DF_MTI08_CANTI_I08]  DEFAULT (0) FOR [CANTI_I08]
GO
ALTER TABLE [dbo].[MTI08] ADD  CONSTRAINT [DF_MTI08_UNIDA_I08]  DEFAULT (' ') FOR [UNIDA_I08]
GO
ALTER TABLE [dbo].[MTI08] ADD  CONSTRAINT [DF_MTI08_PRECI_I08]  DEFAULT (0) FOR [PRECI_I08]
GO
ALTER TABLE [dbo].[MTI08] ADD  CONSTRAINT [DF_MTI08_VALOR_I08]  DEFAULT (0) FOR [VALOR_I08]
GO
ALTER TABLE [dbo].[MTI08] ADD  CONSTRAINT [DF_MTI08_COSTO_I08]  DEFAULT (' ') FOR [COSTO_I08]
GO
ALTER TABLE [dbo].[MTI08] ADD  CONSTRAINT [DF_MTI08_REFER_I08]  DEFAULT (0) FOR [REFER_I08]
GO
ALTER TABLE [dbo].[MTI08] ADD  CONSTRAINT [DF_MTI08_CODMA_I08]  DEFAULT (' ') FOR [CODMA_I08]
GO
ALTER TABLE [dbo].[MTI08] ADD  CONSTRAINT [DF_MTI08_CAATD_I08]  DEFAULT (0) FOR [CAATD_I08]
GO
ALTER TABLE [dbo].[MTI08] ADD  CONSTRAINT [DF_MTI08_FLATD_I08]  DEFAULT (0) FOR [FLATD_I08]
GO
ALTER TABLE [dbo].[MTI08] ADD  CONSTRAINT [DF_MTI08_FLCER_I08]  DEFAULT (0) FOR [FLCER_I08]
GO
ALTER TABLE [dbo].[MTI08] ADD  CONSTRAINT [DF_MTI08_ITEM__I08]  DEFAULT (' ') FOR [ITEM__I08]
GO
ALTER TABLE [dbo].[MTI08] ADD  CONSTRAINT [DF_MTI08_IDODR_I08]  DEFAULT (0) FOR [IDODR_I08]
GO
ALTER TABLE [dbo].[MTI08] ADD  CONSTRAINT [DF_MTI08_ITMOR_I08]  DEFAULT (' ') FOR [ITMOR_I08]
GO
ALTER TABLE [dbo].[MTI09] ADD  CONSTRAINT [DF_MTI09_NUDOC_I09]  DEFAULT (' ') FOR [NUDOC_I09]
GO
ALTER TABLE [dbo].[MTI09] ADD  CONSTRAINT [DF_MTI09_OLDNO_I09]  DEFAULT (' ') FOR [OLDNO_I09]
GO
ALTER TABLE [dbo].[MTW01] ADD  CONSTRAINT [DF_MTW01_PRECIO_TMP]  DEFAULT (0) FOR [PRECI_TMP]
GO
ALTER TABLE [dbo].[MTW01] ADD  CONSTRAINT [DF_MTW01_VALOR_TMP]  DEFAULT (0) FOR [VALOR_TMP]
GO
ALTER TABLE [dbo].[MTW01] ADD  CONSTRAINT [DF_MTW01_TICAM_TMP]  DEFAULT (0) FOR [TICAM_TMP]
GO
ALTER TABLE [dbo].[MTW01] ADD  CONSTRAINT [DF_MTW01_MONED_TMP]  DEFAULT (' ') FOR [MONED_TMP]
GO
ALTER TABLE [dbo].[MTW03] ADD  CONSTRAINT [DF_MTW03_CANTI_TMP]  DEFAULT (0) FOR [CANTI_TMP]
GO
ALTER TABLE [dbo].[MTW03] ADD  CONSTRAINT [DF_MTW03_PRECI_TMP]  DEFAULT (0) FOR [PRECI_TMP]
GO
ALTER TABLE [dbo].[MTW03] ADD  CONSTRAINT [DF_MTW03_SOLES_TMP]  DEFAULT (0) FOR [SOLES_TMP]
GO
ALTER TABLE [dbo].[MTW04] ADD  CONSTRAINT [DF_MTW04_SDANT_TMP]  DEFAULT (0) FOR [SDANT_TMP]
GO
ALTER TABLE [dbo].[MTW04] ADD  CONSTRAINT [DF_MTW04_PRANT_TMP]  DEFAULT (0) FOR [PRANT_TMP]
GO
ALTER TABLE [dbo].[MTW04] ADD  CONSTRAINT [DF_MTW04_INGRE_TMP]  DEFAULT (0) FOR [INGRE_TMP]
GO
ALTER TABLE [dbo].[MTW04] ADD  CONSTRAINT [DF_MTW04_PRING_TMP]  DEFAULT (0) FOR [PRING_TMP]
GO
ALTER TABLE [dbo].[MTW04] ADD  CONSTRAINT [DF_MTW04_SALID_TMP]  DEFAULT (0) FOR [SALID_TMP]
GO
ALTER TABLE [dbo].[MTW04] ADD  CONSTRAINT [DF_MTW04_PRSAL_TMP]  DEFAULT (0) FOR [PRSAL_TMP]
GO
ALTER TABLE [dbo].[MTW04] ADD  CONSTRAINT [DF_MTW04_SDFIN_TMP]  DEFAULT (0) FOR [SDFIN_TMP]
GO
ALTER TABLE [dbo].[MTW04] ADD  CONSTRAINT [DF_MTW04_PRFIN_TMP]  DEFAULT (0) FOR [PRFIN_TMP]
GO
ALTER TABLE [dbo].[MTW04] ADD  CONSTRAINT [DF_MTW04_SDCAL_TMP]  DEFAULT (0) FOR [SDCAL_TMP]
GO
ALTER TABLE [dbo].[MTW04] ADD  CONSTRAINT [DF_MTW04_DIFER_TMP]  DEFAULT (0) FOR [DIFER_TMP]
GO
ALTER TABLE [dbo].[MTW04] ADD  CONSTRAINT [DF_MTW04_VASAL_TMP]  DEFAULT (0) FOR [VASAL_TMP]
GO
ALTER TABLE [dbo].[MTW04] ADD  CONSTRAINT [DF_MTW04_VASAL_TMP1]  DEFAULT (0) FOR [VAING_TMP]
GO
ALTER TABLE [dbo].[MTW04] ADD  CONSTRAINT [DF_MTW04_CODAL_TMP]  DEFAULT (' ') FOR [CODAL_TMP]
GO
ALTER TABLE [dbo].[MTW04] ADD  CONSTRAINT [DF_MTW04_SDAN1_TMP]  DEFAULT (0) FOR [SDAN1_TMP]
GO
ALTER TABLE [dbo].[MTW04] ADD  CONSTRAINT [DF_MTW04_PRAN1_TMP]  DEFAULT (0) FOR [PRAN1_TMP]
GO
ALTER TABLE [dbo].[MTW04] ADD  CONSTRAINT [DF_MTW04_INGR1_TMP]  DEFAULT (0) FOR [INGR1_TMP]
GO
ALTER TABLE [dbo].[MTW04] ADD  CONSTRAINT [DF_MTW04_PRIN1_TMP]  DEFAULT (0) FOR [PRIN1_TMP]
GO
ALTER TABLE [dbo].[MTW04] ADD  CONSTRAINT [DF_MTW04_SALI1_TMP]  DEFAULT (0) FOR [SALI1_TMP]
GO
ALTER TABLE [dbo].[MTW04] ADD  CONSTRAINT [DF_MTW04_PRSA1_TMP]  DEFAULT (0) FOR [PRSA1_TMP]
GO
ALTER TABLE [dbo].[MTW04] ADD  CONSTRAINT [DF_MTW04_SDFI1_TMP]  DEFAULT (0) FOR [SDFI1_TMP]
GO
ALTER TABLE [dbo].[MTW04] ADD  CONSTRAINT [DF_MTW04_PRFI1_TMP]  DEFAULT (0) FOR [PRFI1_TMP]
GO
ALTER TABLE [dbo].[MTW04] ADD  CONSTRAINT [DF_MTW04_VASA1_TMP]  DEFAULT (0) FOR [VASA1_TMP]
GO
ALTER TABLE [dbo].[MTW04] ADD  CONSTRAINT [DF_MTW04_VAANT_TMP]  DEFAULT (0) FOR [VAANT_TMP]
GO
ALTER TABLE [dbo].[MTW04] ADD  CONSTRAINT [DF_MTW04_VAFIN_TMP]  DEFAULT (0) FOR [VAFIN_TMP]
GO
ALTER TABLE [dbo].[MTW05] ADD  CONSTRAINT [DF_MTW05_CANTI_W05]  DEFAULT (0) FOR [CANTI_W05]
GO
ALTER TABLE [dbo].[MTW05] ADD  CONSTRAINT [DF_MTW05_PRECI_W05]  DEFAULT (0) FOR [PRECI_W05]
GO
ALTER TABLE [dbo].[MTW05] ADD  CONSTRAINT [DF_MTW05_SOLES_W05]  DEFAULT (0) FOR [SOLES_W05]
GO
ALTER TABLE [dbo].[MTW05] ADD  CONSTRAINT [DF_MTW05_DOLAR_W05]  DEFAULT (0) FOR [DOLAR_W05]
GO
ALTER TABLE [dbo].[MTW05] ADD  CONSTRAINT [DF_MTW05_SDANT_W05]  DEFAULT (0) FOR [SDANT_W05]
GO
ALTER TABLE [dbo].[MTW06] ADD  CONSTRAINT [DF_MTW06_CODMA_W06]  DEFAULT (' ') FOR [CODMA_W06]
GO
ALTER TABLE [dbo].[MTW06] ADD  CONSTRAINT [DF_MTW06_DESMA_W06]  DEFAULT (' ') FOR [DESMA_W06]
GO
ALTER TABLE [dbo].[MTW06] ADD  CONSTRAINT [DF_MTW06_PERIO_W06]  DEFAULT (' ') FOR [PERIO_W06]
GO
ALTER TABLE [dbo].[MTW06] ADD  CONSTRAINT [DF_MTW06_MONED_W06]  DEFAULT (' ') FOR [MONED_W06]
GO
ALTER TABLE [dbo].[MTW06] ADD  CONSTRAINT [DF_MTW06_PRECI_W06]  DEFAULT (0) FOR [PRECI_W06]
GO
ALTER TABLE [dbo].[MTW07] ADD  CONSTRAINT [DF_MTW07_CLASE_TMP]  DEFAULT (' ') FOR [CLASE_TMP]
GO
ALTER TABLE [dbo].[MTW07] ADD  CONSTRAINT [DF_MTW07_CODMA_TMP]  DEFAULT (' ') FOR [CODMA_TMP]
GO
ALTER TABLE [dbo].[MTW07] ADD  CONSTRAINT [DF_MTW07_MAEST_TMP]  DEFAULT (' ') FOR [MAEST_TMP]
GO
ALTER TABLE [dbo].[MTW07] ADD  CONSTRAINT [DF_MTW07_MONED_TMP]  DEFAULT (' ') FOR [MONED_TMP]
GO
ALTER TABLE [dbo].[MTW07] ADD  CONSTRAINT [DF_MTW07_PRECI_TMP]  DEFAULT (0) FOR [PRECI_TMP]
GO
ALTER TABLE [dbo].[MTW07] ADD  CONSTRAINT [DF_MTW07_USUAR_TMP]  DEFAULT (' ') FOR [USUAR_TMP]
GO
ALTER TABLE [dbo].[MTW07] ADD  CONSTRAINT [DF_MTW07_COMPU_TMP]  DEFAULT (' ') FOR [COMPU_TMP]
GO
ALTER TABLE [dbo].[MTW07] ADD  CONSTRAINT [DF_MTW07_PRECD_TMP]  DEFAULT (0) FOR [PRECD_TMP]
GO
ALTER TABLE [dbo].[MTW10] ADD  CONSTRAINT [DF_MTW10_IDDET_W10]  DEFAULT (0) FOR [IDDET_W10]
GO
ALTER TABLE [dbo].[MTI0205]  WITH NOCHECK ADD  CONSTRAINT [FK_MTI0205_MTI0105] FOREIGN KEY([IDCAB_I02])
REFERENCES [dbo].[MTI0105] ([IDCAB_I01])
ON UPDATE CASCADE
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[MTI0205] CHECK CONSTRAINT [FK_MTI0205_MTI0105]
GO
ALTER TABLE [dbo].[MTI04]  WITH NOCHECK ADD  CONSTRAINT [FK_MTI04_MTI03] FOREIGN KEY([IDCAB_I04])
REFERENCES [dbo].[MTI03] ([IDCAB_I03])
ON UPDATE CASCADE
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[MTI04] CHECK CONSTRAINT [FK_MTI04_MTI03]
GO
ALTER TABLE [dbo].[MTI06]  WITH NOCHECK ADD  CONSTRAINT [FK_MTI06_MTI05] FOREIGN KEY([IDCAB_I06])
REFERENCES [dbo].[MTI05] ([IDCAB_I05])
ON UPDATE CASCADE
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[MTI06] CHECK CONSTRAINT [FK_MTI06_MTI05]
GO
ALTER TABLE [dbo].[MTI08]  WITH NOCHECK ADD  CONSTRAINT [FK_MTI08_MTI07] FOREIGN KEY([IDCAB_I08])
REFERENCES [dbo].[MTI07] ([IDCAB_I07])
ON UPDATE CASCADE
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[MTI08] CHECK CONSTRAINT [FK_MTI08_MTI07]
GO
ALTER TABLE [dbo].[MTI10]  WITH NOCHECK ADD  CONSTRAINT [FK_MTI10_MTI09] FOREIGN KEY([IDCAB_I10])
REFERENCES [dbo].[MTI09] ([IDCAB_I09])
ON UPDATE CASCADE
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[MTI10] CHECK CONSTRAINT [FK_MTI10_MTI09]
GO
ALTER TABLE [dbo].[MTI11]  WITH NOCHECK ADD  CONSTRAINT [FK_MTI11_MTI03] FOREIGN KEY([IDCAB_I11])
REFERENCES [dbo].[MTI03] ([IDCAB_I03])
ON UPDATE CASCADE
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[MTI11] CHECK CONSTRAINT [FK_MTI11_MTI03]
GO
ALTER TABLE [dbo].[MTI12]  WITH CHECK ADD  CONSTRAINT [FK_MTI12_MTI07] FOREIGN KEY([IDCAB_I12])
REFERENCES [dbo].[MTI07] ([IDCAB_I07])
ON UPDATE CASCADE
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[MTI12] CHECK CONSTRAINT [FK_MTI12_MTI07]
GO
/****** Object:  StoredProcedure [dbo].[GDMGetBskProductos2010]    Script Date: 18/02/2023 19:51:30 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE   Procedure [dbo].[GDMGetBskProductos2010]
	@Producto Varchar(50)
AS
Select 
a.CodMA_M02  As Codigo
,a.DESMA_M02 As Producto
,a.UNIDA_M02 As Unidad
From MS..MST21 a
Where a.DESMA_M02 Like @Producto+'%'
Order By Producto

GO
/****** Object:  StoredProcedure [dbo].[GDMGetBskProductos2011]    Script Date: 18/02/2023 19:51:30 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE  Procedure [dbo].[GDMGetBskProductos2011]
	@Producto Varchar(50)
AS
Select 
a.CodMA_M02  As Codigo
,a.DESMA_M02 As Producto
,a.UNIDA_M02 As Unidad
From MS..MST21 a
Where a.DESMA_M02 Like @Producto+'%'
Order By Producto

GO
/****** Object:  StoredProcedure [dbo].[GDMGetDevolverFI_FF]    Script Date: 18/02/2023 19:51:30 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
/*
	Autor : Jaime Castilla Molina
	Fecha : 31/01/2012
	Permite devolver fecha inicio y fin de un mes.
*/
Create Procedure [dbo].[GDMGetDevolverFI_FF]
	@Ann Int
	,@Mes Int
	,@FI Char(10) OutPut
	,@FF Char(10) OutPut
AS	
--Set @Ann = 2010
--Set @Mes = 1
Set @FI = '01/'+Right('00'+rTrim(LTrim(Convert(Varchar,@mes))),2)+'/'+Convert(Varchar,@Ann)
set @FF=Convert(Varchar,dateadd(month,1,@FI) -1 ,103)


GO
/****** Object:  StoredProcedure [dbo].[GDMGetDevolverSaldoFinal]    Script Date: 18/02/2023 19:51:30 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER OFF
GO

/*
	Autor : Jaime Castilla Molina
	Fecha : 31/01/2012
	Permite generar el Kardex Valorizado
*/
CREATE   Procedure [dbo].[GDMGetDevolverSaldoFinal]
	@CodProd Char(9)
	,@FecIni Char(10)
	,@FecFin Char(10)
	,@SLD_Cant Decimal(9,2) OutPut
	,@SLD_Precio Decimal(9,2) OutPut
	,@SLD_Valor Decimal(9,2) OutPut
As
/*
Set @CodProd = '2411-0002' 
Set @FecIni = '01/08/2010'
Set @FecFin = '31/12/2010'
*/

Declare @CT Varchar(8000)

Set @CT = ''
Set @CT = @CT+'Select Round(SAL'+ Right('00'+rTrim(LTrim(Convert(Varchar,Convert(Int,Substring(@FecIni,4,2))-1))),2)+'_R01,2) As SaldoAnt'+Char(13)
Set @CT = @CT+', Round(PRE'+ Right('00'+rTrim(LTrim(Convert(Varchar,Convert(Int,Substring(@FecIni,4,2))-1))),2)+'_R01,2) As PrecioAnt'+Char(13)
Set @CT = @CT+', Round(VAL'+ Right('00'+rTrim(LTrim(Convert(Varchar,Convert(Int,Substring(@FecIni,4,2))-1))),2)+'_R01,2) As ValorAnt'+Char(13)
Set @CT = @CT+'Into  ##TmpKardex1'+Char(13)
Set @CT = @CT+'From MA..MAR03'+rTrim(LTrim(Right(@FecIni,2)))+' a'+Char(13)
Set @CT = @CT+' Where a.CODMA_R01 = '+Char(39)+@CodProd+Char(39)+Char(13)
Exec(@CT)

Declare @Tbl1 Table (Saldo Decimal(9,3) Null
		    ,Precio Decimal(9,3) Null
		    ,Valor Decimal(9,3) Null)

Insert Into @Tbl1 
Select * from ##TmpKardex1

Drop Table ##TmpKardex1

---- Creando Tabla general que presenta la INFO del Kardex Valorizado
Declare @TblPrin1 Table ( IDReg Int IDENTITY(1,1) 
			,Fecha DateTime Null
			,Tipo Char(10) Null
			,Serie Char(10) Null
			,Numero Varchar(8) Null
			,Proveedor Varchar(50) Null
			,Detalle Varchar(50) Null
			,TipoOpera Varchar(50) Null
			,TipoProceso Varchar(30) Null
			,ANT_Cant Decimal(9,2) Null
			,ANT_Precio Decimal(9,2) Null
			,ANT_Valor Decimal(9,2) Null
			,ING_Cant Decimal(9,2) Null
			,ING_Precio Decimal(9,2) Null
			,ING_Valor Decimal(9,2) Null
			,SAL_Cant Decimal(9,2) Null
			,SAL_Precio Decimal(9,2) Null
			,SAL_Valor Decimal(9,2) Null
			,SLD_Cant Decimal(9,2) Null
			,SLD_Precio Decimal(9,2) Null
			,SLD_Valor Decimal(9,2) Null
			)


Insert Into @TblPrin1
Select 
a.FEDOC_I01 As Fecha
,'' AS Tipo
,a.SERDO_I01 As Serie
,a.NUDOC_I01 As Numero
,rTrim(LTrim(c.NOMBR_M02)) As Proveedor
,b.REFER_I02 As Detalle
,Substring(a.Opera_I01,7,Len(a.opera_I01)) As TipoOpera
,a.TIVOU_I01

,IsNull((Select Top 1  Saldo From @Tbl1),0) As SaldoAnt
,IsNull((Select Top 1  Precio From @Tbl1),0) As PrecioAnt
,IsNull((Select Top 1  Valor From @Tbl1),0) As ValorAnt

,Case When a.TIVOU_I01 = '1 - Ingresos' Then
	Case When rTrim(LTrim(a.Opera_I01)) <> '130 - Flete' And
		  rTrim(LTrim(a.Opera_I01)) <> '131 - Intereses' And
		  rTrim(LTrim(a.Opera_I01)) <> '132 - Nota de Debito' Then
		 IsNull(b.Canti_I02,0)
	Else 0 End
 Else 0 End As ING_Cant
,Case When a.TIVOU_I01='1 - Ingresos' Then
	Case When a.MONED_I01='D - Dolares' Then
	        ROUND((b.PRECI_I02*a.TICAM_I01),2)
	ELSE
        	b.PRECI_I02
        End
  ELSE 0 End As ING_Precio
, Case When a.TIVOU_I01='1 - Ingresos' Then
        b.SOLES_I02
  ELSE 0 End As ING_Valor

, Case When a.TIVOU_I01='2 - Salidas' Then
	b.CANTI_I02
  ELSE  0 End As SAL_Cant

, Case When a.TIVOU_I01='2 - Salidas' Then
     Case When a.MONED_I01='D - Dolares' Then
	 ROUND(b.PRECI_I02*a.TICAM_I01,2)
     ELSE b.PRECI_I02 End
   ELSE  0 End As SAL_Precio
, Case When a.TIVOU_I01='2 - Salidas' Then
        b.SOLES_I02
   ELSE 0 End As SAL_Valor
,0,0,0
From MT..MTI0105 a
   Inner Join MT.dbo.MTI0205 b
	On a.IDCAB_I01 = b.IDCAB_I02
   Inner Join MS..MST20 c
	On a.MAEST_I01 = c.MAEST_M02
Where b.CODMA_I02 = @CodProd
	And c.CLASE_M02 = '05005'
	And EMPRE_M02 = '64'
	And a.LOCAL_I01 = '02'
	And a.FEDOC_I01 BETWEEN @FecIni AND @FecFin
Order By
	a.FEDOC_I01, a.TIVOU_I01, a.NUDOC_I01


Declare @Cont Int
	,@Vlr1 Decimal(9,3)
	,@Vlr2 Decimal(9,3)
	,@Vlr3 Decimal(9,3)

Update @TblPrin1 Set
   SLD_Cant = ANT_Cant + (ING_Cant - SAL_Cant)
   ,SLD_Precio = Case When TipoProceso = '1 - Ingresos' Then 
			ANT_Precio 
                 Else SAL_Precio End
   ,SLD_Valor = ANT_Valor + (ING_Valor - SAL_Valor)
Where IDReg = 1


Set @Cont = 1
While @Cont < (Select Count(*) From @TblPrin1)
   Begin
	Set @Vlr1 = IsNull((Select SLD_Cant From @TblPrin1
		    Where IDReg = @Cont),0)
	Set @Vlr3 = IsNull((Select SLD_Valor From @TblPrin1
		    Where IDReg = @Cont),0)

	Set @Cont = @Cont + 1

	If IsNull((Select TipoProceso From @TblPrin1
		    Where IDReg = @Cont),'') = '1 - Ingresos' 
		Begin
			Set @Vlr2 = ( IsNull((Select AVG(SAL_Precio) From @TblPrin1
					Where IDREG <@Cont),0) + 
				    IsNull((Select ING_Precio From @TblPrin1
					Where IDREG = @Cont),0) ) /2
		End
	Else
		Begin
			Set @Vlr2 = isNull((Select SAL_Precio From @TblPrin1
					Where IDREg = @Cont),0)
		End


	Update @TblPrin1 Set	
		SLD_Cant = @Vlr1 + (ING_Cant - SAL_Cant)				
		,SLD_Precio = round(@Vlr2,2)
		,SLD_Valor = @Vlr3 + (ING_Valor - SAL_Valor)				
	Where IDReg = @Cont 

   End

/*
Select Convert(Varchar,Fecha,103) As Fecha
	,rTrim(LTrim(Tipo)) As Tipo
	,rTrim(LTrim(Serie)) As Tipo
	,Numero
	,rTrim(LTrim(Proveedor)) As Proveedor
	,rTrim(LTrim(Detalle)) As Detalle
	,rTrim(LTrim(TipoOpera)) As TipoOperacion
	,ING_Cant
	,ING_Precio
	,ING_Valor
	,SAL_Cant
	,SAL_Precio
	,SAL_Valor
	,SLD_Cant
	,SLD_Precio
	,SLD_Valor

From @TblPrin1
Order By IDReg
*/

Set @SLD_Cant = IsNull((Select Top 1 SLD_Cant From @TblPrin1
			Order By IDReg Desc),0)

Set @SLD_Precio = IsNull((Select Top 1 SLD_Precio From @TblPrin1
			Order By IDReg Desc),0)

Set @SLD_Valor = IsNull((Select Top 1 SLD_Valor From @TblPrin1
			Order By IDReg Desc),0)
		 
/*
Print(@SLD_Cant)
Print(@SLD_Precio)
Print(@SLD_Valor)

*/


GO
/****** Object:  StoredProcedure [dbo].[GDMGetKardexValorizado]    Script Date: 18/02/2023 19:51:30 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER OFF
GO


/*
	Autor : Jaime Castilla Molina
	Fecha : 31/01/2012
	Permite generar el Kardex Valorizado
*/
CREATE    Procedure [dbo].[GDMGetKardexValorizado]
	@CodProd Char(9)
	,@FecIni Char(10)
	,@FecFin Char(10)
	,@FecAnt Char(10) OutPut
	,@ANT_Cant Decimal(9,2) OutPut
	,@ANT_Precio Decimal(9,2) OutPut
	,@ANT_Valor Decimal(9,2) OutPut
As

/*
Set @CodProd = '2602-0003'    --'2602-0003' --'2411-0001'
Set @FecIni = '31/05/2011'
Set @FecFin = '31/05/2011'
*/

Declare @CT Varchar(8000)

Set @CT = ''
Set @CT = @CT+'Select Round(SAL'+ Right('00'+rTrim(LTrim(Convert(Varchar,Convert(Int,Substring(@FecIni,4,2))-1))),2)+'_R01,2) As SaldoAnt'+Char(13)
Set @CT = @CT+', Round(PRE'+ Right('00'+rTrim(LTrim(Convert(Varchar,Convert(Int,Substring(@FecIni,4,2))-1))),2)+'_R01,2) As PrecioAnt'+Char(13)
Set @CT = @CT+', Round(VAL'+ Right('00'+rTrim(LTrim(Convert(Varchar,Convert(Int,Substring(@FecIni,4,2))-1))),2)+'_R01,2) As ValorAnt'+Char(13)
Set @CT = @CT+'Into  ##TmpKardex1'+Char(13)
Set @CT = @CT+'From MA..MAR03'+rTrim(LTrim(Right(@FecIni,2)))+' a'+Char(13)
Set @CT = @CT+' Where a.CODMA_R01 = '+Char(39)+@CodProd+Char(39)+Char(13)
Set @CT = @CT+' And  a.CODAL_R01 = '+Char(39)+'02201'+Char(39)+Char(13)
Exec(@CT)

Declare @Tbl1 Table (Saldo Decimal(9,3) Null
		    ,Precio Decimal(9,3) Null
		    ,Valor Decimal(9,3) Null)

Insert Into @Tbl1 
Select * from ##TmpKardex1

Drop Table ##TmpKardex1


Set @ANT_Cant = IsNull((Select Top 1  Saldo From @Tbl1),0) 
Set @ANT_Precio = IsNull((Select Top 1  Precio From @Tbl1),0) 
Set @ANT_Valor = IsNull((Select Top 1  Valor From @Tbl1),0) 

Set @FecAnt=Convert(Varchar,dateadd(day,-1,@FecIni)  ,103)


---- Creando Tabla general que presenta la INFO del Kardex Valorizado
Declare @TblPrin1 Table ( IDReg Int IDENTITY(1,1) 
			,Fecha DateTime Null
			,Tipo Char(10) Null
			,Serie Char(10) Null
			,Numero Varchar(8) Null
			,Proveedor Varchar(50) Null
			,Detalle Varchar(50) Null
			,TipoOpera Varchar(50) Null
			,TipoProceso Varchar(30) Null
			,ANT_Cant Decimal(9,2) Null
			,ANT_Precio Decimal(9,2) Null
			,ANT_Valor Decimal(9,2) Null
			,ING_Cant Decimal(9,2) Null
			,ING_Precio Decimal(9,2) Null
			,ING_Valor Decimal(9,2) Null
			,SAL_Cant Decimal(9,2) Null
			,SAL_Precio Decimal(9,2) Null
			,SAL_Valor Decimal(9,2) Null
			,SLD_Cant Decimal(9,2) Null
			,SLD_Precio Decimal(9,2) Null
			,SLD_Valor Decimal(9,2) Null
			)


Insert Into @TblPrin1
Select 
a.FEDOC_I01 As Fecha
,'' AS Tipo
,a.SERDO_I01 As Serie
,a.NUDOC_I01 As Numero
,rTrim(LTrim(c.NOMBR_M02)) As Proveedor
,b.REFER_I02 As Detalle
,Substring(a.Opera_I01,7,Len(a.opera_I01)) As TipoOpera
,a.TIVOU_I01

,IsNull((Select Top 1  Saldo From @Tbl1),0) As SaldoAnt
,IsNull((Select Top 1  Precio From @Tbl1),0) As PrecioAnt
,IsNull((Select Top 1  Valor From @Tbl1),0) As ValorAnt

,Case When a.TIVOU_I01 = '1 - Ingresos' Then
	Case When rTrim(LTrim(a.Opera_I01)) <> '130 - Flete' And
		  rTrim(LTrim(a.Opera_I01)) <> '131 - Intereses' And
		  rTrim(LTrim(a.Opera_I01)) <> '132 - Nota de Debito' Then
		 IsNull(b.Canti_I02,0)
	Else 0 End
 Else 0 End As ING_Cant
,Case When a.TIVOU_I01='1 - Ingresos' Then
	Case When a.MONED_I01='D - Dolares' Then
	        ROUND((b.PRECI_I02*a.TICAM_I01),2)
	ELSE
        	b.PRECI_I02
        End
  ELSE 0 End As ING_Precio
, Case When a.TIVOU_I01='1 - Ingresos' Then
        b.SOLES_I02
  ELSE 0 End As ING_Valor

, Case When a.TIVOU_I01='2 - Salidas' Then
	b.CANTI_I02
  ELSE  0 End As SAL_Cant

, Case When a.TIVOU_I01='2 - Salidas' Then
     Case When a.MONED_I01='D - Dolares' Then
	 ROUND(b.PRECI_I02*a.TICAM_I01,2)
     ELSE b.PRECI_I02 End
   ELSE  0 End As SAL_Precio
, Case When a.TIVOU_I01='2 - Salidas' Then
        b.SOLES_I02
   ELSE 0 End As SAL_Valor
,0,0,0
From MT..MTI0105 a
   Inner Join MT.dbo.MTI0205 b
	On a.IDCAB_I01 = b.IDCAB_I02
   Inner Join MS..MST20 c
	On a.MAEST_I01 = c.MAEST_M02
Where b.CODMA_I02 = @CodProd
	And c.CLASE_M02 = '05005'
	And EMPRE_M02 = '64'
	And a.LOCAL_I01 = '02'
	And a.FEDOC_I01 BETWEEN @FecIni AND @FecFin
Order By
	a.FEDOC_I01, a.TIVOU_I01, a.NUDOC_I01


Declare @Cont Int
	,@Vlr1 Decimal(9,3)
	,@Vlr2 Decimal(9,3)
	,@Vlr3 Decimal(9,3)

Update @TblPrin1 Set
   SLD_Cant = ANT_Cant + (ING_Cant - SAL_Cant)
   ,SLD_Precio = Case When TipoProceso = '1 - Ingresos' Then 
			ANT_Precio 
                 Else SAL_Precio End
   ,SLD_Valor = ANT_Valor + (ING_Valor - SAL_Valor)
Where IDReg = 1


Set @Cont = 1
While @Cont < (Select Count(*) From @TblPrin1)
   Begin
	Set @Vlr1 = IsNull((Select SLD_Cant From @TblPrin1
		    Where IDReg = @Cont),0)
	Set @Vlr3 = IsNull((Select SLD_Valor From @TblPrin1
		    Where IDReg = @Cont),0)

	Set @Cont = @Cont + 1

	If IsNull((Select TipoProceso From @TblPrin1
		    Where IDReg = @Cont),'') = '1 - Ingresos' 
		Begin
			Set @Vlr2 = ( IsNull((Select AVG(SAL_Precio) From @TblPrin1
					Where IDREG <@Cont),0) + 
				    IsNull((Select ING_Precio From @TblPrin1
					Where IDREG = @Cont),0) ) /2
		End
	Else
		Begin
			Set @Vlr2 = isNull((Select SAL_Precio From @TblPrin1
					Where IDREg = @Cont),0)
		End


	Update @TblPrin1 Set	
		SLD_Cant = @Vlr1 + (ING_Cant - SAL_Cant)				
		,SLD_Precio = round(@Vlr2,2)
		,SLD_Valor = @Vlr3 + (ING_Valor - SAL_Valor)				
	Where IDReg = @Cont 

   End

Select Convert(Varchar,Fecha,103) As Fecha
	,rTrim(LTrim(Tipo)) As Tipo
	,rTrim(LTrim(Serie)) As Tipo
	,Numero
	,rTrim(LTrim(Proveedor)) As Proveedor
	,rTrim(LTrim(Detalle)) As Detalle
	,rTrim(LTrim(TipoOpera)) As TipoOperacion
	,ING_Cant
	,ING_Precio
	,ING_Valor
	,SAL_Cant
	,SAL_Precio
	,SAL_Valor
	,SLD_Cant
	,SLD_Precio
	,SLD_Valor

From @TblPrin1
Order By IDReg






GO
/****** Object:  StoredProcedure [dbo].[GDMGetKardexValorizado201206]    Script Date: 18/02/2023 19:51:30 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

/*
	Autor : Jaime Castilla Molina
	Fecha : 04/06/2012
	Permite generar el Kardex Valorizado
*/
CREATE    Procedure [dbo].[GDMGetKardexValorizado201206]
	@CodProd Char(9)
	,@FecIni Char(10)
	,@FecFin Char(10)
	,@FecAnt Char(10) OutPut
	,@ANT_Cant Decimal(9,2) OutPut
	,@ANT_Precio Decimal(9,2) OutPut
	,@ANT_Valor Decimal(9,2) OutPut
As

/*
Set @CodProd = '2602-0003'    --'2602-0003' --'2411-0001'
Set @FecIni = '31/05/2011'
Set @FecFin = '31/05/2011'
*/

Declare @CT Varchar(8000)

Set @CT = ''
Set @CT = @CT+'Select Round(SAL'+ Right('00'+rTrim(LTrim(Convert(Varchar,Convert(Int,Substring(@FecIni,4,2))-1))),2)+'_R01,2) As SaldoAnt'+Char(13)
Set @CT = @CT+', Round(PRE'+ Right('00'+rTrim(LTrim(Convert(Varchar,Convert(Int,Substring(@FecIni,4,2))-1))),2)+'_R01,2) As PrecioAnt'+Char(13)
Set @CT = @CT+', Round(VAL'+ Right('00'+rTrim(LTrim(Convert(Varchar,Convert(Int,Substring(@FecIni,4,2))-1))),2)+'_R01,2) As ValorAnt'+Char(13)
Set @CT = @CT+'Into  ##TmpKardex1'+Char(13)
Set @CT = @CT+'From MA..MAR03'+rTrim(LTrim(Right(@FecIni,2)))+' a'+Char(13)
Set @CT = @CT+' Where a.CODMA_R01 = '+Char(39)+@CodProd+Char(39)+Char(13)
Set @CT = @CT+' And  a.CODAL_R01 = '+Char(39)+'02201'+Char(39)+Char(13)
Exec(@CT)

Declare @Tbl1 Table (Saldo Decimal(9,3) Null
		    ,Precio Decimal(9,3) Null
		    ,Valor Decimal(9,3) Null)

Insert Into @Tbl1 
Select * from ##TmpKardex1

Drop Table ##TmpKardex1


Set @ANT_Cant = IsNull((Select Top 1  Saldo From @Tbl1),0) 
Set @ANT_Precio = IsNull((Select Top 1  Precio From @Tbl1),0) 
Set @ANT_Valor = IsNull((Select Top 1  Valor From @Tbl1),0) 

Set @FecAnt=Convert(Varchar,dateadd(day,-1,@FecIni)  ,103)


---- Creando Tabla general que presenta la INFO del Kardex Valorizado
Declare @TblPrin1 Table ( IDReg Int IDENTITY(1,1) 
			,Fecha DateTime Null
			,Tipo Char(10) Null
			,Serie Char(10) Null
			,Numero Varchar(8) Null
			,Proveedor Varchar(50) Null
			,Detalle Varchar(50) Null
			,TipoOpera Varchar(50) Null
			,TipoProceso Varchar(30) Null
			,ANT_Cant Decimal(9,2) Null
			,ANT_Precio Decimal(9,2) Null
			,ANT_Valor Decimal(9,2) Null
			,ING_Cant Decimal(9,2) Null
			,ING_Precio Decimal(9,2) Null
			,ING_Valor Decimal(9,2) Null
			,SAL_Cant Decimal(9,2) Null
			,SAL_Precio Decimal(9,2) Null
			,SAL_Valor Decimal(9,2) Null
			,SLD_Cant Decimal(9,2) Null
			,SLD_Precio Decimal(9,2) Null
			,SLD_Valor Decimal(9,2) Null
			)


Insert Into @TblPrin1
Select 
a.FEDOC_I01 As Fecha
,'' AS Tipo
,a.SERDO_I01 As Serie
,a.NUDOC_I01 As Numero
,rTrim(LTrim(c.NOMBR_M02)) As Proveedor
,b.REFER_I02 As Detalle
,Substring(a.Opera_I01,7,Len(a.opera_I01)) As TipoOpera
,a.TIVOU_I01

,IsNull((Select Top 1  Saldo From @Tbl1),0) As SaldoAnt
,IsNull((Select Top 1  Precio From @Tbl1),0) As PrecioAnt
,IsNull((Select Top 1  Valor From @Tbl1),0) As ValorAnt

,Case When a.TIVOU_I01 = '1 - Ingresos' Then
	Case When rTrim(LTrim(a.Opera_I01)) <> '130 - Flete' And
		  rTrim(LTrim(a.Opera_I01)) <> '131 - Intereses' And
		  rTrim(LTrim(a.Opera_I01)) <> '132 - Nota de Debito' Then
		 IsNull(b.Canti_I02,0)
	Else 0 End
 Else 0 End As ING_Cant
,Case When a.TIVOU_I01='1 - Ingresos' Then
	Case When a.MONED_I01='D - Dolares' Then
	        ROUND((b.PRECI_I02*a.TICAM_I01),2)
	ELSE
        	b.PRECI_I02
        End
  ELSE 0 End As ING_Precio
, Case When a.TIVOU_I01='1 - Ingresos' Then
        b.SOLES_I02
  ELSE 0 End As ING_Valor

, Case When a.TIVOU_I01='2 - Salidas' Then
	b.CANTI_I02
  ELSE  0 End As SAL_Cant

, Case When a.TIVOU_I01='2 - Salidas' Then
     Case When a.MONED_I01='D - Dolares' Then
	 ROUND(b.PRECI_I02*a.TICAM_I01,2)
     ELSE b.PRECI_I02 End
   ELSE  0 End As SAL_Precio
, Case When a.TIVOU_I01='2 - Salidas' Then
        b.SOLES_I02
   ELSE 0 End As SAL_Valor
,0,0,0
From MT..MTI0105 a
   Inner Join MT.dbo.MTI0205 b
	On a.IDCAB_I01 = b.IDCAB_I02
   Inner Join MS..MST20 c
	On a.MAEST_I01 = c.MAEST_M02
Where b.CODMA_I02 = @CodProd
	And c.CLASE_M02 = '05005'
	And EMPRE_M02 = '64'
	And a.LOCAL_I01 = '02'
	And a.FEDOC_I01 BETWEEN @FecIni AND @FecFin
Order By
	a.FEDOC_I01, a.TIVOU_I01, a.NUDOC_I01


Declare @Cont Int
	,@Vlr1 Decimal(9,3)
	,@Vlr2 Decimal(9,3)
	,@Vlr3 Decimal(9,3)

Update @TblPrin1 Set
   SLD_Cant = ANT_Cant + (ING_Cant - SAL_Cant)
   ,SLD_Precio = Case When TipoProceso = '1 - Ingresos' Then 
			ANT_Precio 
                 Else SAL_Precio End
   ,SLD_Valor = ANT_Valor + (ING_Valor - SAL_Valor)
Where IDReg = 1


Set @Cont = 1
While @Cont < (Select Count(*) From @TblPrin1)
   Begin
	Set @Vlr1 = IsNull((Select SLD_Cant From @TblPrin1
		    Where IDReg = @Cont),0)
	Set @Vlr3 = IsNull((Select SLD_Valor From @TblPrin1
		    Where IDReg = @Cont),0)

	Set @Cont = @Cont + 1

	If IsNull((Select TipoProceso From @TblPrin1
		    Where IDReg = @Cont),'') = '1 - Ingresos' 
		Begin
			Set @Vlr2 = ( IsNull((Select AVG(SAL_Precio) From @TblPrin1
					Where IDREG <@Cont),0) + 
				    IsNull((Select ING_Precio From @TblPrin1
					Where IDREG = @Cont),0) ) /2
		End
	Else
		Begin
			Set @Vlr2 = isNull((Select SAL_Precio From @TblPrin1
					Where IDREg = @Cont),0)
		End


	Update @TblPrin1 Set	
		SLD_Cant = @Vlr1 + (ING_Cant - SAL_Cant)				
		,SLD_Precio = round(@Vlr2,2)
		,SLD_Valor = @Vlr3 + (ING_Valor - SAL_Valor)				
	Where IDReg = @Cont 

   End

Select Convert(Varchar,Fecha,103) As Fecha
	,rTrim(LTrim(Tipo)) As Tipo
	,rTrim(LTrim(Serie)) As Serie
	,Numero
	--,rTrim(LTrim(Proveedor)) As Proveedor
	,rTrim(LTrim(TipoOpera)) As TipoOperacion
	--,rTrim(LTrim(Detalle)) As Detalle
	,ING_Cant
	,ING_Precio
	,ING_Valor
	,SAL_Cant
	,SAL_Precio
	,SAL_Valor
	,SLD_Cant
	,SLD_Precio
	,SLD_Valor

From @TblPrin1
Order By IDReg








GO
/****** Object:  StoredProcedure [dbo].[SP_GET_CABECERAORDEN]    Script Date: 18/02/2023 19:51:30 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[SP_GET_CABECERAORDEN]
(
	@PVCH_IN_ID VARCHAR(20)
)
/*OBTENIENDO LA CABECERA*/
--DECLARE @PVCH_IN_ID INT

--SET @PVCH_IN_ID=19998
AS
BEGIN
	
SELECT
 A.IDCAB_I07	AS	IDOC
,A.PERIO_I07	AS	PERIODO
,A.NUODC_I07	AS	CODIGO
,A.MAEST_I07	AS	RUC
,B.NOMBR_M02	AS	RAZONSOCIAL
,A.DIREC_I07	AS	DIRECCION
,A.MONED_I07	AS	MONEDA
,A.FECHA_I07	AS	FECHA
,CONVERT(VARCHAR,A.FEREG_I07,103) AS	FECHA_REG
,A.FSOLI_I07	AS	FECHA_SOL
,A.OBSER_I07	AS	OBSERVACION
,A.PEDID_I07	AS	SOLICITANTE
,A.ELABO_I07	AS	ELABORADO
,CONVERT(DECIMAL(18,2),A.SUBTO_I07)	AS	SUBTOTAL
,CONVERT(DECIMAL(18,2),A.IGV___I07)	AS	IGV
,CONVERT(DECIMAL(18,2),A.TOTAL_I07)	AS	TOTAL
FROM MT.dbo.MTI07				A
	INNER JOIN MS.dbo.MST20		B
		ON A.MAEST_I07=B.MAEST_M02
		
WHERE	A.IDCAB_I07=@PVCH_IN_ID
--AND		A.FLAPR_I07=0
	
END
GO
/****** Object:  StoredProcedure [dbo].[SP_GET_CABECERAREQ]    Script Date: 18/02/2023 19:51:30 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[SP_GET_CABECERAREQ]
(
	@PVCH_IN_ID VARCHAR(20)
)
AS
BEGIN
	SELECT
	 A.IDCAB_I03	AS	IDRQ
	,A.PERIO_I03	AS	PERIODO
	,A.NUREQ_I03	AS	CODIGO
	--,A.MAEST_I07	AS	RUC
	--,B.NOMBR_M02	AS	RAZONSOCIAL
	--,A.DIREC_I07	AS	DIRECCION
	--,A.MONED_I07	AS	MONEDA
	,A.FECHA_I03	AS	FECHA
	,CONVERT(VARCHAR,A.FECHA_I03,103) AS	FECHA_REG
	,A.FECHA_I03	AS	FECHA_SOL
	,A.OBSER_I03	AS	OBSERVACION
	,A.PEDID_I03	AS	SOLICITANTE
	,A.AREAS_I03	AS	ELABORADO
	--,CONVERT(DECIMAL(18,2),A.SUBTO_I07)	AS	SUBTOTAL
	--,CONVERT(DECIMAL(18,2),A.IGV___I07)	AS	IGV
	--,CONVERT(DECIMAL(18,2),A.TOTAL_I07)	AS	TOTAL
	FROM MT.dbo.MTI03				A
		--INNER JOIN MS.dbo.MST20		B
		--	ON A.MAEST_I07=B.MAEST_M02		
	WHERE	A.IDCAB_I03=@PVCH_IN_ID
END
GO
/****** Object:  StoredProcedure [dbo].[SP_GET_DETALLEORDEN]    Script Date: 18/02/2023 19:51:30 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[SP_GET_DETALLEORDEN]
(
	@PVCH_IN_ID VARCHAR(20)
)
/*OBTENIENDO LA CABECERA*/
--DECLARE @PVCH_IN_ID INT

--SET @PVCH_IN_ID=19998
AS
BEGIN
	
SELECT
 A.IDCAB_I07	AS IDOC
,B.IDDET_I08	AS IDDET
,B.CODMA_I08	AS CODPROD
,C.DESMA_M02	AS PRODUCTO	
,B.UNIDA_I08	AS UNIDAD
,CONVERT(DECIMAL(18,2),B.CANTI_I08)	AS CANTIDAD
,CONVERT(DECIMAL(18,4),B.PRECI_I08)	AS PRECIO
,CONVERT(DECIMAL(18,2),B.VALOR_I08)	AS VALOR
FROM MT.dbo.MTI07						A
	INNER JOIN	MT.dbo.MTI08			B
		ON A.IDCAB_I07=B.IDCAB_I08	
	INNER JOIN 	MS.DBO.MST21			C
		ON B.CODMA_I08=C.CODMA_M02
WHERE	A.IDCAB_I07=@PVCH_IN_ID
--AND		A.FLAPR_I07=0
	
END
GO
/****** Object:  StoredProcedure [dbo].[SP_GET_DETALLEREQ]    Script Date: 18/02/2023 19:51:30 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[SP_GET_DETALLEREQ]
(
	@PVCH_IN_ID VARCHAR(20)
)
AS
BEGIN
	SELECT
	 A.IDCAB_I03	AS IDOC
	,B.IDDET_I04	AS IDDET
	,B.CODMA_I04	AS CODPROD
	,C.DESMA_M02	AS PRODUCTO	
	--,B.UNIDA_I08	AS UNIDAD
	,CONVERT(DECIMAL(18,2),B.CANTI_I04)	AS CANTIDAD
	--,CONVERT(DECIMAL(18,4),B.PRECI_I08)	AS PRECIO
	--,CONVERT(DECIMAL(18,2),B.VALOR_I08)	AS VALOR
	FROM MT.dbo.MTI03						A
		INNER JOIN	MT.dbo.MTI04			B
			ON A.IDCAB_I03=B.IDCAB_I04	
		INNER JOIN 	MS.DBO.MST21			C
			ON B.CODMA_I04=C.CODMA_M02
	WHERE	A.IDCAB_I03=@PVCH_IN_ID
END
GO
/****** Object:  StoredProcedure [dbo].[SP_GET_LISTAOC]    Script Date: 18/02/2023 19:51:30 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[SP_GET_LISTAOC]
@PUSUARIO VARCHAR(30)
AS
BEGIN
	DECLARE @FLGAPROB VARCHAR(1)

--Validando Usuario Aprobador
select @FLGAPROB=FLAOC_T06 from MS.dbo.MST06 x where x.USUAR_T06=@PUSUARIO 

IF @FLGAPROB='1'
	begin

select TOP 50
 A.IDCAB_I07	AS	ID
,A.NUODC_I07	AS	OC
,A.FECHA_I07	AS	FECHA
,CONVERT(VARCHAR,A.FEREG_I07,103)	AS	FECHA_REG
,A.FSOLI_I07	AS	FECHA_SOL
,A.OBSER_I07	AS	OBSERVACION
,A.MONED_I07	AS	MONEDA
,CONVERT(DECIMAL(18,4),A.TOTAL_I07)	AS	IMPORTE_TOTAL
,A.PEDID_I07	AS	SOLICITANTE
FROM MT.dbo.MTI07 A
INNER JOIN 
     MA.DBO.MAT0405 
     ON LOCAL_I07 = CODIG_T04 
     INNER JOIN 
     MS.DBO.MST20 
     ON MAEST_I07 = MAEST_M02 
WHERE FLAPR_I07 = 0  AND 
     STATU_I07 NOT IN  ('OC05','OC06')  AND 
     CLASE_M02 = '05005' 
ORDER BY A.FEREG_I07 DESC
	end
END
GO
/****** Object:  StoredProcedure [dbo].[SP_GET_LISTAREQ]    Script Date: 18/02/2023 19:51:30 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

create PROCEDURE [dbo].[SP_GET_LISTAREQ]
	@PUSUARIO VARCHAR(30)
AS
BEGIN
select TOP 50
 A.IDCAB_I03	AS	ID
,A.NUREQ_I03	AS	REQ
,A.FECHA_I03	AS	FECHA
,CONVERT(VARCHAR,A.FECHA_I03,103)	AS	FECHA_REG
,A.FECHA_I03	AS	FECHA_SOL
,A.OBSER_I03	AS	OBSERVACION
,DESCR_T18 AS AREA --,AREAS_I03 + '-' + DESCR_T18 AS AREA
,DESCR_T06 AS SOLICITANTE --PEDID_I03
FROM MT.dbo.MTI03 A
INNER JOIN
MA.DBO.MAT0405
ON LOCAL_I03 = CODIG_T04
INNER JOIN
MT.DBO.MTT08
ON TIODC_I03 = CODIG_T08 
INNER JOIN
MA.DBO.MAT18
ON AREAS_I03 = CODIG_T18
INNER JOIN
MT.DBO.MTT06
ON PEDID_I03 = CODIG_T06
INNER JOIN
MT.DBO.MTT12
ON CLREQ_I03 = CODIG_T12
WHERE
FLAPR_I03 = 0 AND
( AUTO1_T18 = (SELECT ABREV_T22 FROM MA.DBO.MAT22 WHERE USSYS_T22 = @PUSUARIO AND TIDOC_T22 = 'OR' ) OR
AUTO2_T18 = (SELECT ABREV_T22 FROM MA.DBO.MAT22 WHERE USSYS_T22 = @PUSUARIO AND TIDOC_T22 = 'OR') )
AND STATU_I03 NOT IN ('OR05','OR06')
--WHERE STATU_I03='OR01'
ORDER BY A.FECHA_I03 DESC
END
GO
/****** Object:  StoredProcedure [dbo].[SP_SET_APROBARORDEN]    Script Date: 18/02/2023 19:51:30 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[SP_SET_APROBARORDEN]
--DECLARE
		 @PVCH_IN_ID	VARCHAR(20)
		,@PVCH_IN_USER	VARCHAR(30)
		,@PVCH_IN_EST	VARCHAR(12) --Aprobado / Desaprobado

--SET @PVCH_IN_ID=19998
AS
BEGIN
	BEGIN TRANSACTION
	
	DECLARE @VCH_IN_MENSAJE VARCHAR(200)
	SET @VCH_IN_MENSAJE=''
	--Aprobada
	if @PVCH_IN_EST='OC02'
		BEGIN
		
			UPDATE MT.dbo.MTI07	SET
				 FLAPR_I07=1
				,FAPRO_I07=GETDATE()
				,APROB_I07=@PVCH_IN_USER
				,STATU_I07=@PVCH_IN_EST
			WHERE	IDCAB_I07=@PVCH_IN_ID
			--AND		FLAPR_I07=0			
			IF @@ERROR<>0
				BEGIN
					SET @VCH_IN_MENSAJE='SUCEDIO ERROR AL APROBAR LA ORDEN'
					GOTO ERROR
				END				
			
		END
	--Rechazada
	ELSE IF @PVCH_IN_EST='OC06'
		BEGIN
		
			UPDATE MT.dbo.MTI07	SET
				STATU_I07=@PVCH_IN_EST
			WHERE	IDCAB_I07=@PVCH_IN_ID
			--AND		FLAPR_I07=0
			IF @@ERROR<>0
				BEGIN
					SET @VCH_IN_MENSAJE='SUCEDIO ERROR AL DESAPROBAR LA ORDEN'
					GOTO ERROR
				END				
		END
	ELSE
		BEGIN
			SET @VCH_IN_MENSAJE='ESTADO NO VALIDO'
			GOTO ERROR
		END
	
	GOTO OK

OK:
	COMMIT TRANSACTION
	SELECT 0 AS ERROR, '' AS MENSAJE
	GOTO FIN
ERROR:
	ROLLBACK TRANSACTION
	SELECT 1 AS ERROR,@VCH_IN_MENSAJE AS MENSAJE
	GOTO FIN		
FIN:
	END
GO
/****** Object:  StoredProcedure [dbo].[SP_SET_APROBARREQ]    Script Date: 18/02/2023 19:51:30 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[SP_SET_APROBARREQ]
--DECLARE
		 @PVCH_IN_ID	VARCHAR(20)
		,@PVCH_IN_USER	VARCHAR(30)
		,@PVCH_IN_EST	VARCHAR(12) --Aprobado / Desaprobado

--SET @PVCH_IN_ID=19998
AS
BEGIN
	BEGIN TRANSACTION
	
	DECLARE @VCH_IN_MENSAJE VARCHAR(200)
	SET @VCH_IN_MENSAJE=''
	--Aprobada
	if @PVCH_IN_EST='OR02'
		BEGIN
		
			UPDATE MT.dbo.MTI03	SET
				 FLAPR_I03=1
				,FEAPR_I03=GETDATE()
				--,APROB_I07=@PVCH_IN_USER
				,STATU_I03=@PVCH_IN_EST
			WHERE	IDCAB_I03=@PVCH_IN_ID
			--AND		FLAPR_I07=0			
			IF @@ERROR<>0
				BEGIN
					SET @VCH_IN_MENSAJE='SUCEDIO ERROR AL APROBAR LA ORDEN'
					GOTO ERROR
				END				
			
		END
	--Rechazada
	ELSE IF @PVCH_IN_EST='OR06'
		BEGIN
		
			UPDATE MT.dbo.MTI03	SET
				STATU_I03=@PVCH_IN_EST
			WHERE	IDCAB_I03=@PVCH_IN_ID
			--AND		FLAPR_I07=0
			IF @@ERROR<>0
				BEGIN
					SET @VCH_IN_MENSAJE='SUCEDIO ERROR AL DESAPROBAR LA ORDEN'
					GOTO ERROR
				END				
		END
	ELSE
		BEGIN
			SET @VCH_IN_MENSAJE='ESTADO NO VALIDO'
			GOTO ERROR
		END
	
	GOTO OK

OK:
	COMMIT TRANSACTION
	SELECT 0 AS ERROR, '' AS MENSAJE
	GOTO FIN
ERROR:
	ROLLBACK TRANSACTION
	SELECT 1 AS ERROR,@VCH_IN_MENSAJE AS MENSAJE
	GOTO FIN		
FIN:
	END
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'PLAZO DE LA FACTURA' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'MTI0105', @level2type=N'COLUMN',@level2name=N'PFACT_I01'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'FECHA DE VENCIMIENTO DE LA FACTURA' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'MTI0105', @level2type=N'COLUMN',@level2name=N'FVENC_I01'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'FLAG INDICA SI EL DOCUMENTO HA SIDO CANCELADO' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'MTI0105', @level2type=N'COLUMN',@level2name=N'CANCE_I01'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'TIPO DE  COMPRA: BIEN O SERVICIO' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'MTI0105', @level2type=N'COLUMN',@level2name=N'TIPOC_I01'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'NUMERO DE ORDEN DE COMPRA' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'MTI0105', @level2type=N'COLUMN',@level2name=N'NUODC_I01'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'PORCENTAJE IGV' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'MTI0105', @level2type=N'COLUMN',@level2name=N'POIGV_I01'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'FLAG ES OBRA EN CURSO' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'MTI0105', @level2type=N'COLUMN',@level2name=N'FLOEC_I01'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'NUMERO OBRA EN CUSO' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'MTI0105', @level2type=N'COLUMN',@level2name=N'NUOEC_I01'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'FLAG ORDEN DE TRABAJO TALLER' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'MTI0105', @level2type=N'COLUMN',@level2name=N'FLOTT_I01'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'FLAG GASTO DIRECTO' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'MTI0105', @level2type=N'COLUMN',@level2name=N'FLGTD_I01'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'NUMERO ORDEN DE TRABAJO TALLER' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'MTI0105', @level2type=N'COLUMN',@level2name=N'NUOTT_I01'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'ID DE DETALLE ITEM ORDEN DE COMPRA' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'MTI0205', @level2type=N'COLUMN',@level2name=N'IDODC_I02'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'AREA QUE SOLICITA' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'MTI03', @level2type=N'COLUMN',@level2name=N'AREAS_I03'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'FLAG OBRA EN CURSO' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'MTI03', @level2type=N'COLUMN',@level2name=N'FLOEC_I03'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'NUMERO OBRA EN CURSO' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'MTI03', @level2type=N'COLUMN',@level2name=N'NUOEC_I03'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'FLAG ORDEN DE TRABAJO TALLER' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'MTI03', @level2type=N'COLUMN',@level2name=N'FLOTT_I03'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'FLAG GASTO DIRECTO' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'MTI03', @level2type=N'COLUMN',@level2name=N'FLGTD_I03'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'NUMERO ORDEN DE TRABAJO TALLER' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'MTI03', @level2type=N'COLUMN',@level2name=N'NUOTT_I03'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'TIPO DE COMPRA: BIEN O SERVICIO' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'MTI07', @level2type=N'COLUMN',@level2name=N'TIPOC_I07'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'TIPO DE ORDEN DE COMPRA' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'MTI07', @level2type=N'COLUMN',@level2name=N'TIODC_I07'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'PUESTO EN' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'MTI07', @level2type=N'COLUMN',@level2name=N'PUEST_I07'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'ESTADO DE LA ORDEN DE COMPRA' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'MTI07', @level2type=N'COLUMN',@level2name=N'STATU_I07'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'MODO CAMBIO DE ESTADO' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'MTI07', @level2type=N'COLUMN',@level2name=N'MODCS_I07'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'FLAG ES OBRA EN CURSO' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'MTI07', @level2type=N'COLUMN',@level2name=N'FLOEC_I07'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'NUMERO OBRA EN CURSO' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'MTI07', @level2type=N'COLUMN',@level2name=N'NUOEC_I07'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'FLAG INDICA SI ES IMPORTACION' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'MTI07', @level2type=N'COLUMN',@level2name=N'FLIMP_I07'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'FLAG ORDEN DE TRABAJO TALLER' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'MTI07', @level2type=N'COLUMN',@level2name=N'FLOTT_I07'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'FLAG GASTO DIRECTO' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'MTI07', @level2type=N'COLUMN',@level2name=N'FLGTD_I07'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'NUMERO DE ORDEN DE TRABAJO TALLER' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'MTI07', @level2type=N'COLUMN',@level2name=N'NUOTT_I07'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'VALOR DE LAS SALIDAS' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'MTW04', @level2type=N'COLUMN',@level2name=N'VASAL_TMP'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_Description', @value=N'VALOR DE LOS INGRESOS' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'TABLE',@level1name=N'MTW04', @level2type=N'COLUMN',@level2name=N'VAING_TMP'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[42] 4[20] 2[24] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "MTI0105"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 126
               Right = 198
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MAT0405"
            Begin Extent = 
               Top = 6
               Left = 236
               Bottom = 126
               Right = 396
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MTI0205"
            Begin Extent = 
               Top = 6
               Left = 434
               Bottom = 126
               Right = 594
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MST21"
            Begin Extent = 
               Top = 126
               Left = 38
               Bottom = 246
               Right = 198
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MST22"
            Begin Extent = 
               Top = 126
               Left = 236
               Bottom = 246
               Right = 396
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MST22_1"
            Begin Extent = 
               Top = 126
               Left = 434
               Bottom = 246
               Right = 594
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MST22_2"
            Begin Extent = 
               Top = 246
               Left = 38
               Bottom = 366
               Right = 198
            End
            DisplayFlags = 280
     ' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Consumos_de_Almacen_MI_2022'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'       TopColumn = 0
         End
         Begin Table = "PRT03 (PR.dbo)"
            Begin Extent = 
               Top = 246
               Left = 236
               Bottom = 366
               Right = 396
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "PRT02 (PR.dbo)"
            Begin Extent = 
               Top = 246
               Left = 434
               Bottom = 366
               Right = 594
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "PRT01 (PR.dbo)"
            Begin Extent = 
               Top = 366
               Left = 38
               Bottom = 486
               Right = 198
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Consumos_de_Almacen_MI_2022'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Consumos_de_Almacen_MI_2022'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[15] 4[9] 2[41] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "ORD_COMPRA"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 126
               Right = 325
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "ING_ALMACEN"
            Begin Extent = 
               Top = 6
               Left = 355
               Bottom = 126
               Right = 629
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "ORD_REQUISICION"
            Begin Extent = 
               Top = 6
               Left = 667
               Bottom = 126
               Right = 867
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 78
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 2175
         Width = 3255
         Width = 2430
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Logistica_Compras_View'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Logistica_Compras_View'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Logistica_Compras_View'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[30] 4[7] 2[45] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "ORD_REQUISICION"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 126
               Right = 238
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "ING_ALMACEN"
            Begin Extent = 
               Top = 6
               Left = 593
               Bottom = 126
               Right = 867
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "ORD_COMPRA"
            Begin Extent = 
               Top = 6
               Left = 276
               Bottom = 126
               Right = 563
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 76
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Logistica_Compras_View_V02'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Logistica_Compras_View_V02'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Logistica_Compras_View_V02'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[18] 4[30] 2[30] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "MTI0105"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 126
               Right = 198
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MAT0405"
            Begin Extent = 
               Top = 6
               Left = 236
               Bottom = 126
               Right = 396
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MTI0205"
            Begin Extent = 
               Top = 6
               Left = 434
               Bottom = 126
               Right = 594
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MST21"
            Begin Extent = 
               Top = 6
               Left = 632
               Bottom = 126
               Right = 792
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MST22"
            Begin Extent = 
               Top = 126
               Left = 38
               Bottom = 246
               Right = 198
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MST22_1"
            Begin Extent = 
               Top = 126
               Left = 236
               Bottom = 246
               Right = 396
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MST22_2"
            Begin Extent = 
               Top = 126
               Left = 434
               Bottom = 246
               Right = 594
            End
            DisplayFlags = 280
      ' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Transferencias_a_Almacen_Biol_MI_2023'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'      TopColumn = 0
         End
         Begin Table = "PRT03 (PR.dbo)"
            Begin Extent = 
               Top = 126
               Left = 632
               Bottom = 246
               Right = 792
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "PRT02 (PR.dbo)"
            Begin Extent = 
               Top = 246
               Left = 38
               Bottom = 366
               Right = 198
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "PRT01 (PR.dbo)"
            Begin Extent = 
               Top = 246
               Left = 236
               Bottom = 366
               Right = 396
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Transferencias_a_Almacen_Biol_MI_2023'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Transferencias_a_Almacen_Biol_MI_2023'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[41] 4[5] 2[10] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "MTI0105"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 126
               Right = 198
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MTI0205"
            Begin Extent = 
               Top = 6
               Left = 236
               Bottom = 126
               Right = 396
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MST21 (MS.dbo)"
            Begin Extent = 
               Top = 6
               Left = 434
               Bottom = 126
               Right = 594
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MST22 (MS.dbo)"
            Begin Extent = 
               Top = 6
               Left = 632
               Bottom = 126
               Right = 792
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "PRT03 (PR.dbo)"
            Begin Extent = 
               Top = 6
               Left = 830
               Bottom = 126
               Right = 990
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "PRT02 (PR.dbo)"
            Begin Extent = 
               Top = 126
               Left = 38
               Bottom = 246
               Right = 198
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "PRT01 (PR.dbo)"
            Begin Extent = 
               Top = 126
               Left = 236
               Bottom = 246
               Right = 396
            End
  ' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'View_Consumos_de_Almacen_Obras_en_Curso'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'          DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "CBM04 (CB.dbo)"
            Begin Extent = 
               Top = 126
               Left = 434
               Bottom = 246
               Right = 594
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MAT0405 (MA.dbo)"
            Begin Extent = 
               Top = 126
               Left = 632
               Bottom = 246
               Right = 792
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'View_Consumos_de_Almacen_Obras_en_Curso'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'View_Consumos_de_Almacen_Obras_en_Curso'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[41] 4[20] 2[7] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = -96
         Left = 0
      End
      Begin Tables = 
         Begin Table = "MTI03"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 126
               Right = 198
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MAT18 (MA.dbo)"
            Begin Extent = 
               Top = 6
               Left = 236
               Bottom = 126
               Right = 396
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MTT06"
            Begin Extent = 
               Top = 6
               Left = 434
               Bottom = 126
               Right = 594
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 10
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 1755
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'View_DATA_OR01'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'View_DATA_OR01'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "MTI03"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 126
               Right = 198
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MAT18 (MA.dbo)"
            Begin Extent = 
               Top = 6
               Left = 236
               Bottom = 126
               Right = 396
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MTT06"
            Begin Extent = 
               Top = 6
               Left = 434
               Bottom = 126
               Right = 594
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'View_DATA_OR02'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'View_DATA_OR02'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "MTI03"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 126
               Right = 198
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MAT18 (MA.dbo)"
            Begin Extent = 
               Top = 6
               Left = 236
               Bottom = 126
               Right = 396
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MTT06"
            Begin Extent = 
               Top = 6
               Left = 434
               Bottom = 126
               Right = 594
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'View_DATA_OR03'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'View_DATA_OR03'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "MTI03"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 126
               Right = 198
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MAT18 (MA.dbo)"
            Begin Extent = 
               Top = 6
               Left = 236
               Bottom = 126
               Right = 396
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MTT06"
            Begin Extent = 
               Top = 6
               Left = 434
               Bottom = 126
               Right = 594
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'View_DATA_OR04'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'View_DATA_OR04'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "MTI03"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 126
               Right = 198
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MAT18 (MA.dbo)"
            Begin Extent = 
               Top = 6
               Left = 236
               Bottom = 126
               Right = 396
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MTT06"
            Begin Extent = 
               Top = 6
               Left = 434
               Bottom = 126
               Right = 594
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'View_DATA_OR05'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'View_DATA_OR05'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "MTI03"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 126
               Right = 198
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MAT18 (MA.dbo)"
            Begin Extent = 
               Top = 6
               Left = 236
               Bottom = 126
               Right = 396
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MTT06"
            Begin Extent = 
               Top = 6
               Left = 434
               Bottom = 126
               Right = 594
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'View_DATA_OR06'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'View_DATA_OR06'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "MTW07"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 126
               Right = 198
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MST21"
            Begin Extent = 
               Top = 6
               Left = 236
               Bottom = 126
               Right = 396
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MST20"
            Begin Extent = 
               Top = 6
               Left = 434
               Bottom = 126
               Right = 594
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MST22"
            Begin Extent = 
               Top = 6
               Left = 632
               Bottom = 126
               Right = 792
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "CBT0205"
            Begin Extent = 
               Top = 126
               Left = 38
               Bottom = 246
               Right = 198
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 12
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = ' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'View_PRODUCTOS_ULTIMO_PRECIO_DE_COMPRA'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'11
         Column = 1440
         Alias = 1950
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'View_PRODUCTOS_ULTIMO_PRECIO_DE_COMPRA'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'View_PRODUCTOS_ULTIMO_PRECIO_DE_COMPRA'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "TOTALES"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 126
               Right = 214
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'View_TOTALESxSTATUS_OR'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'View_TOTALESxSTATUS_OR'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "MTI0105"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 126
               Right = 198
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MTI0205"
            Begin Extent = 
               Top = 6
               Left = 236
               Bottom = 126
               Right = 396
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "PRT03 (PR.dbo)"
            Begin Extent = 
               Top = 6
               Left = 434
               Bottom = 126
               Right = 594
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "PRT02 (PR.dbo)"
            Begin Extent = 
               Top = 6
               Left = 632
               Bottom = 126
               Right = 792
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MST21 (MS.dbo)"
            Begin Extent = 
               Top = 126
               Left = 38
               Bottom = 246
               Right = 198
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MST22 (MS.dbo)"
            Begin Extent = 
               Top = 126
               Left = 236
               Bottom = 246
               Right = 396
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
    ' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'View_VISTA CONSUMOS DE ALMACEN EQUIPOS DE TALLER'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'     Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'View_VISTA CONSUMOS DE ALMACEN EQUIPOS DE TALLER'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'View_VISTA CONSUMOS DE ALMACEN EQUIPOS DE TALLER'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "MTI0105"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 126
               Right = 214
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MTI0205"
            Begin Extent = 
               Top = 6
               Left = 252
               Bottom = 126
               Right = 428
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'VISTA_BASE_ULTIMA_FECHA_SALIDA_PRODUCTO'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'VISTA_BASE_ULTIMA_FECHA_SALIDA_PRODUCTO'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[41] 4[11] 2[10] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "MTI0105"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 126
               Right = 198
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MTI0205"
            Begin Extent = 
               Top = 6
               Left = 236
               Bottom = 126
               Right = 396
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "mat0105"
            Begin Extent = 
               Top = 6
               Left = 434
               Bottom = 126
               Right = 594
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "PRT03"
            Begin Extent = 
               Top = 6
               Left = 632
               Bottom = 126
               Right = 792
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MST21"
            Begin Extent = 
               Top = 6
               Left = 830
               Bottom = 126
               Right = 990
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MST22"
            Begin Extent = 
               Top = 126
               Left = 38
               Bottom = 246
               Right = 198
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 14
         Width = 284
         Width = 1500
         Width = 1500
         Width =' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'VISTA_CONSUMOS_COMBUSTIBLES_Y_LUBRICANTES'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N' 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'VISTA_CONSUMOS_COMBUSTIBLES_Y_LUBRICANTES'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'VISTA_CONSUMOS_COMBUSTIBLES_Y_LUBRICANTES'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "MTI0105"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 126
               Right = 198
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MTI0205"
            Begin Extent = 
               Top = 6
               Left = 236
               Bottom = 126
               Right = 396
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'VISTA_FINAL_ULTIMO_PRECIO_SALIDA_PRODUCTO'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'VISTA_FINAL_ULTIMO_PRECIO_SALIDA_PRODUCTO'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "MTI03"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 126
               Right = 214
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MAT18 (MA.dbo)"
            Begin Extent = 
               Top = 6
               Left = 252
               Bottom = 126
               Right = 428
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MAT19 (MA.dbo)"
            Begin Extent = 
               Top = 6
               Left = 466
               Bottom = 126
               Right = 642
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'VSELECT TOTALES OR V02'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'VSELECT TOTALES OR V02'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "MTI03"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 126
               Right = 214
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MAT18 (MA.dbo)"
            Begin Extent = 
               Top = 6
               Left = 252
               Bottom = 126
               Right = 428
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "MAT19 (MA.dbo)"
            Begin Extent = 
               Top = 6
               Left = 466
               Bottom = 126
               Right = 642
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
      Begin ColumnWidths = 9
         Width = 284
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
         Width = 1500
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 12
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'VSELECT_TOTALES_OR_V02'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'VSELECT_TOTALES_OR_V02'
GO
USE [master]
GO
ALTER DATABASE [MT] SET  READ_WRITE 
GO
